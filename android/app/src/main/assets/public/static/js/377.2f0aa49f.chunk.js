"use strict";(self.webpackChunktable_talk_client=self.webpackChunktable_talk_client||[]).push([[377],{1271:(e,n,t)=>{t.d(n,{A:()=>d});var i=t(5043),s=t(4117),o=t(184),a=t(4442),r=t(5741);const l={interestsContainer:"InterestsSection_interestsContainer__IyUAX",sectionHeader:"InterestsSection_sectionHeader__mk735",editButton:"InterestsSection_editButton__F8H9c",saveButton:"InterestsSection_saveButton__ScQDy",cancelButton:"InterestsSection_cancelButton__ED6Y9",editButtons:"InterestsSection_editButtons__yYMb4",interestsSection:"InterestsSection_interestsSection__BuMDt",languagesSection:"InterestsSection_languagesSection__3HcNn",cuisineSection:"InterestsSection_cuisineSection__YPzFi",inputGroup:"InterestsSection_inputGroup__bNYFA",disabledButton:"InterestsSection_disabledButton__s6j+n",autocompleteContainer:"InterestsSection_autocompleteContainer__4oosa",autocompleteInput:"InterestsSection_autocompleteInput__a4zew",suggestionsList:"InterestsSection_suggestionsList__ueJ1E",suggestionItem:"InterestsSection_suggestionItem__xpf0Y",tagsList:"InterestsSection_tagsList__O7h2r",interestTag:"InterestsSection_interestTag__5dt5a",languageTag:"InterestsSection_languageTag__4lXZu",cuisineTag:"InterestsSection_cuisineTag__qBnH2",cuisineSelect:"InterestsSection_cuisineSelect__a2fma",noItems:"InterestsSection_noItems__c7Cau",suggestedInterests:"InterestsSection_suggestedInterests__jMRdw",suggestedTitle:"InterestsSection_suggestedTitle__92Amf",suggestedTags:"InterestsSection_suggestedTags__uV9D3",suggestedTag:"InterestsSection_suggestedTag__Aos8m"};var c=t(579);const d=e=>{let{profileData:n,onUpdate:t,isPublicView:d=!1}=e;const{t:u,i18n:_}=(0,s.Bd)(),[p,f]=(0,i.useState)(!1),[h,g]=(0,i.useState)((null===n||void 0===n?void 0:n.interests)||[]),[v,m]=(0,i.useState)((null===n||void 0===n?void 0:n.preferredCuisine)||""),[I,S]=(0,i.useState)(""),[b,x]=(0,i.useState)(!1),j=(0,i.useRef)(null);if((0,i.useEffect)(()=>{n&&(g(n.interests||[]),m(n.preferredCuisine||""))},[n]),(0,i.useEffect)(()=>{const e=e=>{j.current&&!j.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),!n)return null;const N=a.dX.filter(e=>!h.includes(e)).filter(e=>e.toLowerCase().includes(I.toLowerCase())).slice(0,8),C=e=>{d||e&&!h.includes(e)&&(g([...h,e]),S(""),x(!1))},P=u("profile.interests.title");let A=P;try{var B;if(null!==_&&void 0!==_&&null!==(B=_.language)&&void 0!==B&&B.startsWith("it")){const e=P.toLowerCase(),n=" preferenze",t=e.lastIndexOf(n);t>-1&&(A=(0,c.jsxs)(c.Fragment,{children:[P.slice(0,t),(0,c.jsx)("br",{}),P.slice(t+1)]}))}}catch(E){}return(0,c.jsxs)(r.A,{title:A,isPublicView:d,showEditButton:!p,isEditing:p,onEdit:()=>f(!0),onSave:()=>{if(d||!t)return;t({interests:h,preferredCuisine:v}),f(!1)},onCancel:()=>{d||(n&&(g(n.interests||[]),m(n.preferredCuisine||"")),f(!1))},showSaveCancel:p,children:[(0,c.jsxs)("div",{className:l.interestsSection,children:[(0,c.jsx)("h3",{children:u("profile.interests.yourInterests")}),p&&(0,c.jsxs)("div",{className:l.inputGroup,children:[(0,c.jsxs)("div",{className:l.autocompleteContainer,ref:j,children:[(0,c.jsx)("input",{type:"text",value:I,onChange:e=>{d||(S(e.target.value),x(!0))},onFocus:()=>{d||x(!0)},placeholder:u("profile.interests.searchInterest"),className:l.autocompleteInput,disabled:d}),b&&N.length>0&&(0,c.jsx)("div",{className:l.suggestionsList,children:N.map((e,n)=>(0,c.jsx)("div",{className:l.suggestionItem,onClick:()=>C(e),children:e},n))})]}),(0,c.jsx)("button",{onClick:()=>C(I),disabled:!I.trim()||h.includes(I.trim())||d,className:d?l.disabledButton:"",children:(0,c.jsx)(o.OiG,{})})]}),(0,c.jsx)("div",{className:l.tagsList,children:h.length>0?h.map((e,n)=>(0,c.jsxs)("span",{className:l.interestTag,children:[e,p&&(0,c.jsx)("button",{onClick:()=>{return n=e,void(d||g(h.filter(e=>e!==n)));var n},children:(0,c.jsx)(o.QCr,{})})]},n)):!p&&(0,c.jsx)("p",{className:l.noItems,children:u("profile.interests.noInterests")})})]}),(0,c.jsxs)("div",{className:l.cuisineSection,children:[(0,c.jsx)("h3",{children:u("profile.interests.preferredCuisine")}),p?(0,c.jsxs)("select",{value:v,onChange:e=>{d||m(e.target.value)},className:l.cuisineSelect,disabled:d,children:[(0,c.jsx)("option",{value:"",children:u("profile.interests.selectCuisine")}),a.fI.map((e,n)=>(0,c.jsx)("option",{value:e,children:e},n))]}):(0,c.jsx)("div",{className:l.preferredCuisine,children:v?(0,c.jsx)("span",{className:l.cuisineTag,children:v}):(0,c.jsx)("p",{className:l.noItems,children:u("profile.interests.noCuisine")})})]})]})}},4122:(e,n,t)=>{t.d(n,{A:()=>d});var i=t(2555),s=t(5043),o=t(4117),a=t(184),r=t(5741);t(8993);const l={container:"PersonalInfo_container__awL+n",header:"PersonalInfo_header__eY0rQ",btn:"PersonalInfo_btn__MXt3i",btnEdit:"PersonalInfo_btnEdit__Rizw5",btnCancel:"PersonalInfo_btnCancel__s2N5y",btnSave:"PersonalInfo_btnSave__IewNe",infoDisplay:"PersonalInfo_infoDisplay__y8rYp",infoRow:"PersonalInfo_infoRow__HE1uX",infoLabel:"PersonalInfo_infoLabel__LRgUq",infoValue:"PersonalInfo_infoValue__4t573",infoValueBio:"PersonalInfo_infoValueBio__Emf-p",form:"PersonalInfo_form__3IUaU",input:"PersonalInfo_input__Fbh73",textarea:"PersonalInfo_textarea__Mi84J",divider:"PersonalInfo_divider__dbK1w",fieldWithPrivacy:"PersonalInfo_fieldWithPrivacy__T5i8a",privacyBtn:"PersonalInfo_privacyBtn__Rs9JT",locationInfo:"PersonalInfo_locationInfo__fgeEk",coordinatesInfo:"PersonalInfo_coordinatesInfo__JKb14",locationInputContainer:"PersonalInfo_locationInputContainer__93VYE",locationStatus:"PersonalInfo_locationStatus__BjTJD",coordinatesStatus:"PersonalInfo_coordinatesStatus__w5S4o",noCoordinatesStatus:"PersonalInfo_noCoordinatesStatus__p-pB6"};var c=t(579);const d=e=>{var n,t;let{profileData:d,onUpdate:u,onUpdateLocation:_,isUpdating:p,isPublicView:f=!1}=e;const{t:h}=(0,o.Bd)(),[g,v]=(0,s.useState)(!1),[m,I]=(0,s.useState)(""),[S,b]=(0,s.useState)({nickname:"",bio:"",dateOfBirth:"",gender:"",phone:"",privacy:{showAge:!0,showLocation:!0}});if((0,s.useEffect)(()=>{var e,n,t,i,s,o;d&&b({nickname:d.nickname||"",bio:d.bio||"",dateOfBirth:d.dateOfBirth?new Date(d.dateOfBirth).toISOString().split("T")[0]:"",phone:d.phone||"",gender:d.gender||"",privacy:{showAge:null===(e=null===(n=d.settings)||void 0===n||null===(t=n.privacy)||void 0===t?void 0:t.showAge)||void 0===e||e,showLocation:null===(i=null===(s=d.settings)||void 0===s||null===(o=s.privacy)||void 0===o?void 0:o.showLocation)||void 0===i||i}})},[d]),!d)return null;const x=e=>{if(f)return;const{name:n,value:t}=e.target;b(e=>(0,i.A)((0,i.A)({},e),{},{[n]:t}))},j=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h("profile.personalInfo.notSpecified");return(0,c.jsxs)("div",{className:l.infoRow,children:[(0,c.jsxs)("span",{className:l.infoLabel,children:[e,":"]}),(0,c.jsx)("span",{className:l.infoValue,children:n||t})]})};return(0,c.jsx)(r.A,{title:h("profile.personalInfo.title"),isPublicView:f,showEditButton:!g,isEditing:g,onEdit:()=>v(!0),onSave:async()=>{if(f||!u)return;I("");const e={nickname:S.nickname,bio:S.bio,dateOfBirth:S.dateOfBirth,gender:S.gender,phone:S.phone,settings:(0,i.A)((0,i.A)({},d.settings),{},{privacy:S.privacy})};u(e),v(!1)},onCancel:()=>{if(!f){var e,n,t,i,s,o;if(I(""),d)b({nickname:d.nickname||"",bio:d.bio||"",dateOfBirth:d.dateOfBirth?new Date(d.dateOfBirth).toISOString().split("T")[0]:"",phone:d.phone||"",gender:d.gender||"",privacy:{showAge:null===(e=null===(n=d.settings)||void 0===n||null===(t=n.privacy)||void 0===t?void 0:t.showAge)||void 0===e||e,showLocation:null===(i=null===(s=d.settings)||void 0===s||null===(o=s.privacy)||void 0===o?void 0:o.showLocation)||void 0===i||i,showPhone:!1}});v(!1)}},showSaveCancel:g,children:g?(0,c.jsxs)("div",{className:l.form,children:[(0,c.jsx)("input",{name:"nickname",value:S.nickname,onChange:x,placeholder:h("profile.personalInfo.nickname"),className:l.input}),(0,c.jsx)("textarea",{name:"bio",value:S.bio,onChange:x,placeholder:h("profile.personalInfo.bioPlaceholder"),className:l.textarea}),(0,c.jsxs)("div",{className:l.fieldWithButton,children:[(0,c.jsx)("p",{className:l.locationText,children:(null===(t=d.location)||void 0===t?void 0:t.address)||h("profile.personalInfo.noLocationSet")}),(0,c.jsxs)("button",{onClick:_,className:l.updateLocationBtn,disabled:p,children:[(0,c.jsx)(a.vq8,{})," ",h("profile.personalInfo.updateLocation")]})]}),(0,c.jsxs)("select",{name:"gender",value:S.gender,onChange:x,className:l.input,children:[(0,c.jsx)("option",{value:"",children:h("profile.personalInfo.selectGender")}),(0,c.jsx)("option",{value:"male",children:h("profile.personalInfo.male")}),(0,c.jsx)("option",{value:"female",children:h("profile.personalInfo.female")}),(0,c.jsx)("option",{value:"non-binary",children:h("profile.personalInfo.nonBinary")}),(0,c.jsx)("option",{value:"other",children:h("profile.personalInfo.other")})]}),(0,c.jsxs)("div",{className:l.fieldWithPrivacy,children:[(0,c.jsx)("input",{type:"date",name:"dateOfBirth",value:S.dateOfBirth,onChange:x,className:l.input}),(0,c.jsx)("button",{onClick:()=>{return e="showAge",void(f||b(n=>(0,i.A)((0,i.A)({},n),{},{privacy:(0,i.A)((0,i.A)({},n.privacy),{},{[e]:!n.privacy[e]})})));var e},className:l.privacyBtn,title:h("profile.personalInfo.ageVisibility"),children:S.privacy.showAge?(0,c.jsx)(a.Ny1,{}):(0,c.jsx)(a.mx3,{})})]}),(0,c.jsx)("input",{type:"tel",name:"phone",value:S.phone,onChange:x,placeholder:h("profile.personalInfo.phonePlaceholder"),className:l.input})]}):(0,c.jsxs)("div",{className:l.infoDisplay,children:[j(h("profile.personalInfo.nickname"),S.nickname),j(h("profile.personalInfo.location"),null===(n=d.location)||void 0===n?void 0:n.address),j(h("profile.personalInfo.age"),null===d||void 0===d?void 0:d.age,h("profile.personalInfo.notSpecifiedAge")),j(h("profile.personalInfo.gender"),S.gender),(0,c.jsxs)("div",{className:l.infoRow,children:[(0,c.jsxs)("span",{className:l.infoLabel,children:[h("profile.personalInfo.bio"),":"]}),(0,c.jsx)("p",{className:l.infoValueBio,children:S.bio||h("profile.personalInfo.noBio")})]})]})})}},5741:(e,n,t)=>{t.d(n,{A:()=>f});t(5043);var i=t(4117);const s="ProfileSectionWrapper_profileSectionWrapper__HnO2v",o="ProfileSectionWrapper_sectionHeader__Oam6V",a="ProfileSectionWrapper_sectionTitle__bO+JU",r="ProfileSectionWrapper_btn__l62+g",l="ProfileSectionWrapper_btnEdit__b4YVK",c="ProfileSectionWrapper_btnCancel__7J7bT",d="ProfileSectionWrapper_btnSave__dA-Gt",u="ProfileSectionWrapper_editButtons__yOBJQ",_="ProfileSectionWrapper_sectionContent__UZgSo";var p=t(579);const f=e=>{let{title:n,children:t,isPublicView:f=!1,className:h="",showEditButton:g=!0,onEdit:v,isEditing:m=!1,onSave:I,onCancel:S,showSaveCancel:b=!0}=e;const{t:x}=(0,i.Bd)();return(0,p.jsxs)("div",{className:"".concat(s," ").concat(h),children:[(0,p.jsxs)("div",{className:o,children:[(0,p.jsx)("h2",{className:a,children:n}),!f&&g&&!m&&(0,p.jsxs)("button",{onClick:v,className:"".concat(r," ").concat(l),title:x("common.edit"),children:["\u270f\ufe0f ",x("common.edit")]}),!f&&b&&m&&(0,p.jsxs)("div",{className:u,children:[(0,p.jsxs)("button",{onClick:S,className:"".concat(r," ").concat(c),title:x("common.cancel"),children:["\u274c ",x("common.cancel")]}),(0,p.jsxs)("button",{onClick:I,className:"".concat(r," ").concat(d),title:x("common.save"),children:["\ud83d\udcbe ",x("common.save")]})]})]}),(0,p.jsx)("div",{className:_,children:t})]})}},7352:(e,n,t)=>{t.d(n,{A:()=>r});t(5043);var i=t(3216),s=t(184);const o="BackButton_backButton__hBNQM";var a=t(579);const r=e=>{let{className:n=""}=e;const t=(0,i.Zp)();return(0,a.jsxs)("button",{onClick:()=>{t(-1)},className:"".concat(o," ").concat(n),children:[(0,a.jsx)(s.QVr,{style:{marginRight:8}}),"Torna indietro"]})}},8993:(e,n,t)=>{t.d(n,{$J:()=>l,nB:()=>c});var i=t(2555),s=t(7977);const o={ALLOWED_TAGS:[],ALLOWED_ATTR:[],ALLOW_DATA_ATTR:!1,ALLOW_UNKNOWN_PROTOCOLS:!1,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!1,KEEP_CONTENT:!1,IN_PLACE:!1,SANITIZE_DOM:!0,WHOLE_DOCUMENT:!1,RETURN_DOM_IMPORT:!1,FORCE_BODY:!1,SANITIZE_NAMED_PROPS:!1,ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i},a=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||"string"!==typeof e)return"";try{const t=n?(0,i.A)((0,i.A)({},o),{},{ALLOWED_TAGS:["b","i","em","strong","u"],ALLOWED_ATTR:[]}):o;return s.A.sanitize(e,t)}catch(t){return console.error("\u274c [SanitizationService] Errore sanitizzazione:",t),""}},r=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||"object"!==typeof e)return e;const s=(0,i.A)({},e);return(n.length>0?n:Object.keys(e).filter(n=>"string"===typeof e[n])).forEach(e=>{s[e]&&"string"===typeof s[e]&&(s[e]=a(s[e],t))}),s},l=e=>{if(!e||"string"!==typeof e)return!1;return[/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,/<object\b[^<]*(?:(?!<\/object>)<[^<]*)*<\/object>/gi,/<embed\b[^<]*(?:(?!<\/embed>)<[^<]*)*<\/embed>/gi,/javascript:/gi,/vbscript:/gi,/data:/gi,/on\w+\s*=/gi,/<.*>/g].some(n=>n.test(e))},c=e=>r(e,["title","description","language","topics"],!1)}}]);
//# sourceMappingURL=377.2f0aa49f.chunk.js.map