{"version":3,"file":"static/js/903.90c8b37f.chunk.js","mappings":"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","sources":["components/maps/OpenStreetMapComponent.jsx","../node_modules/react-bootstrap/esm/Row.js","../node_modules/react-bootstrap/esm/Container.js","webpack://table-talk-client/./src/components/meals/JoinMealButton/JoinMealButton.module.css?4ed3","components/meals/JoinMealButton/index.js","webpack://table-talk-client/./src/pages/Meals/MealDetailPage/MealDetailPage.module.css?5f7f","pages/Meals/MealDetailPage/index.js","../node_modules/react-bootstrap/esm/Badge.js","components/meals/LeaveMealButton/index.js","webpack://table-talk-client/./src/components/common/BackButton/BackButton.module.css?c17f","components/common/BackButton/index.js","../node_modules/react-bootstrap/esm/Col.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Fix per icone marker di default Leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n});\n\n// Componente per centrare la mappa su una posizione specifica\nfunction FlyToMarker({ position, zoom }) {\n  const map = useMap();\n  useEffect(() => {\n    if (position && position.lat && position.lng) {\n      const targetZoom = zoom || map.getZoom();\n      // Usa flyTo per animazione smooth invece di setView\n      map.flyTo([position.lat, position.lng], targetZoom, {\n        duration: 1.5 // Animazione di 1.5 secondi\n      });\n    }\n  }, [position?.lat, position?.lng, zoom, map]);\n  return null;\n}\n\n// Componente per reagire ai cambiamenti di center prop\nfunction CenterUpdater({ center, zoom }) {\n  const map = useMap();\n  useEffect(() => {\n    if (center && Array.isArray(center) && center.length === 2) {\n      const [lat, lng] = center;\n      const targetZoom = zoom || map.getZoom();\n      map.flyTo([lat, lng], targetZoom, {\n        duration: 1.5\n      });\n    }\n  }, [center, zoom, map]);\n  return null;\n}\n\n// Componente per gestire click sulla mappa\nfunction LocationPicker({ onLocationSelect, onMapClick }) {\n  useMapEvents({\n    click(e) {\n      const { lat, lng } = e.latlng;\n      // Se c'√® onMapClick, chiamalo (per chiudere card/anteprima)\n      if (onMapClick) {\n        onMapClick();\n      }\n      // Se c'√® onLocationSelect, chiamalo (per selezionare posizione)\n      if (onLocationSelect) {\n        onLocationSelect({ lat, lng });\n      }\n    },\n  });\n  return null;\n}\n\nconst OpenStreetMapComponent = ({ \n  meals = [], \n  markers = [], // Nuova prop per markers dalla MapPage\n  onLocationSelect, \n  onMarkerClick, // Nuova prop per gestire click sui marker\n  onMapClick, // Nuova prop per gestire click sulla mappa\n  selectedLocation,\n  userLocation = null, // Nuova prop per posizione utente\n  zoom = 13, // Nuova prop per zoom\n  height = '400px',\n  width = '100%',\n  center = [45.4642, 9.1900] // Milano di default\n}) => {\n  // Verifica che Leaflet sia caricato correttamente\n  useEffect(() => {\n    if (typeof window !== 'undefined' && !window.L) {\n      console.error('‚ùå [Map] Leaflet non √® disponibile');\n    } else {\n      console.log('‚úÖ [Map] Leaflet caricato correttamente');\n    }\n  }, []);\n\n  return (\n    <div style={{ width: '100%', height: '100%', position: 'relative' }}>\n      {/* Mappa */}\n      <MapContainer \n        center={center} \n        zoom={zoom} \n        style={{ height, width, borderRadius: '8px' }}\n        whenReady={() => {\n          console.log('‚úÖ [Map] Mappa Leaflet pronta');\n        }}\n        whenCreated={(mapInstance) => {\n          console.log('‚úÖ [Map] Istanza mappa creata');\n        }}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n          errorTileUrl=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='256' height='256'%3E%3Crect fill='%23ddd' width='256' height='256'/%3E%3Ctext fill='%23999' font-family='sans-serif' font-size='18' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3EErrore caricamento mappa%3C/text%3E%3C/svg%3E\"\n        />\n        \n        {/* Aggiorna il centro quando cambia il prop center */}\n        <CenterUpdater center={center} zoom={zoom} />\n        \n        {/* Gestione click per selezionare posizione e chiudere card */}\n        <LocationPicker onLocationSelect={onLocationSelect} onMapClick={onMapClick} />\n        \n        {/* Centra la mappa sulla posizione selezionata */}\n        {selectedLocation && <FlyToMarker position={selectedLocation} zoom={zoom} />}\n        \n        {/* Marker per posizione utente */}\n        {userLocation && (\n          <Marker \n            position={[userLocation.lat, userLocation.lng]}\n            icon={L.icon({\n              iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png',\n              shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n              iconSize: [25, 41],\n              iconAnchor: [12, 41],\n              popupAnchor: [1, -34],\n              shadowSize: [41, 41]\n            })}\n          >\n            <Popup>\n              üìç <strong>La tua posizione</strong>\n            </Popup>\n          </Marker>\n        )}\n        \n        {/* Marker per location selezionata */}\n        {selectedLocation && (\n          <Marker position={[selectedLocation.lat, selectedLocation.lng]}>\n            <Popup>\n              üìç <strong>Posizione selezionata</strong><br />\n              {selectedLocation.address || `${selectedLocation.lat.toFixed(4)}, ${selectedLocation.lng.toFixed(4)}`}\n            </Popup>\n          </Marker>\n        )}\n        \n        {/* Marker per i pasti dalla prop markers (usata da MapPage) */}\n        {markers.map((marker) => (\n          <Marker \n            key={marker.id} \n            position={[marker.lat, marker.lng]}\n            eventHandlers={{\n              click: () => {\n                if (onMarkerClick) onMarkerClick(marker.id);\n              },\n            }}\n          >\n            <Popup>\n              <div style={{ minWidth: '200px' }}>\n                <h3 style={{ margin: '0 0 8px 0', color: '#FF6B35' }}>\n                  üçΩÔ∏è {marker.title || marker.name}\n                </h3>\n                {marker.price && (\n                  <p style={{ margin: '4px 0' }}>\n                    üí∞ ‚Ç¨{marker.price}\n                  </p>\n                )}\n                {marker.type && (\n                  <p style={{ margin: '4px 0', color: '#666' }}>\n                    üìÖ {marker.type}\n                  </p>\n                )}\n              </div>\n            </Popup>\n          </Marker>\n        ))}\n        \n        {/* Marker per i pasti esistenti (compatibilit√† con vecchia API) */}\n        {meals.map(meal => (\n          <Marker \n            key={meal.id} \n            position={[meal.lat, meal.lng]}\n            eventHandlers={{\n              click: () => {\n                if (onMarkerClick) onMarkerClick(meal.id);\n              },\n            }}\n          >\n            <Popup>\n              <div style={{ minWidth: '200px' }}>\n                <h3 style={{ margin: '0 0 8px 0', color: '#FF6B35' }}>\n                  üçΩÔ∏è {meal.name}\n                </h3>\n                <p style={{ margin: '4px 0' }}>\n                  üìç {meal.restaurant || meal.address}\n                </p>\n                <p style={{ margin: '4px 0' }}>\n                  üë• {meal.participants || 0} partecipanti\n                </p>\n                <p style={{ margin: '4px 0' }}>\n                  üìÖ {meal.date}\n                </p>\n                <button\n                  onClick={() => window.open(`/meal/${meal.id}`, '_blank')}\n                  style={{\n                    background: '#FF6B35',\n                    color: 'white',\n                    border: 'none',\n                    padding: '8px 16px',\n                    borderRadius: '6px',\n                    cursor: 'pointer',\n                    marginTop: '8px'\n                  }}\n                >\n                  Partecipa al TableTalk\n                </button>\n              </div>\n            </Popup>\n          </Marker>\n        ))}\n      </MapContainer>\n    </div>\n  );\n};\n\nexport default OpenStreetMapComponent;\n","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix, useBootstrapBreakpoints, useBootstrapMinBreakpoint } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Row = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  const decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'row');\n  const breakpoints = useBootstrapBreakpoints();\n  const minBreakpoint = useBootstrapMinBreakpoint();\n  const sizePrefix = `${decoratedBsPrefix}-cols`;\n  const classes = [];\n  breakpoints.forEach(brkPoint => {\n    const propValue = props[brkPoint];\n    delete props[brkPoint];\n    let cols;\n    if (propValue != null && typeof propValue === 'object') {\n      ({\n        cols\n      } = propValue);\n    } else {\n      cols = propValue;\n    }\n    const infix = brkPoint !== minBreakpoint ? `-${brkPoint}` : '';\n    if (cols != null) classes.push(`${sizePrefix}${infix}-${cols}`);\n  });\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, decoratedBsPrefix, ...classes)\n  });\n});\nRow.displayName = 'Row';\nexport default Row;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Container = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  fluid = false,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  className,\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'container');\n  const suffix = typeof fluid === 'string' ? `-${fluid}` : '-fluid';\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, fluid ? `${prefix}${suffix}` : prefix)\n  });\n});\nContainer.displayName = 'Container';\nexport default Container;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"JoinMealButton_container__UHut2\",\"joinButton\":\"JoinMealButton_joinButton__6Iq+8\",\"loadingContent\":\"JoinMealButton_loadingContent__RWXWl\",\"buttonContent\":\"JoinMealButton_buttonContent__19Xvd\",\"spinner\":\"JoinMealButton_spinner__9mO3G\",\"errorAlert\":\"JoinMealButton_errorAlert__rBjQH\"};","// File: src/components/meals/JoinMealButton/index.js (Versione Finale e Corretta)\nimport React from 'react';\nimport { useMeals } from '../../../contexts/MealsContext';\nimport { Button, Spinner } from 'react-bootstrap';\nimport styles from './JoinMealButton.module.css';\n\nconst JoinMealButton = ({ mealId, onSuccess }) => {\n  // Prendiamo la funzione e lo stato di caricamento direttamente dal context!\n  const { joinMeal, loading } = useMeals();\n\n  const handleJoinClick = async () => {\n    try {\n      const updatedMeal = await joinMeal(mealId);\n      if (updatedMeal && onSuccess) {\n        onSuccess(updatedMeal);\n      }\n    } catch (error) {\n      // L'errore √® gi√† gestito e mostrato dal toast nel context\n      console.error(\"Fallimento joinMeal nel componente:\", error);\n    }\n  };\n\n  return (\n    <Button\n      className={styles.joinButton}\n      onClick={handleJoinClick}\n      disabled={loading}\n    >\n      {loading ? (\n        <>\n          <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" />\n          <span> Attendi...</span>\n        </>\n              ) : 'Unisciti al TableTalk¬Æ'}\n    </Button>\n  );\n};\n\nexport default JoinMealButton;","// extracted by mini-css-extract-plugin\nexport default {\"pageContainer\":\"MealDetailPage_pageContainer__rTQhF\",\"heroImage\":\"MealDetailPage_heroImage__Qwr+O\",\"overlay\":\"MealDetailPage_overlay__nDA0r\",\"title\":\"MealDetailPage_title__WmRuQ\",\"contentContainer\":\"MealDetailPage_contentContainer__sAwLx\",\"card\":\"MealDetailPage_card__PBjFk\",\"actionCard\":\"MealDetailPage_actionCard__jOaaO\",\"hostInfo\":\"MealDetailPage_hostInfo__21qzD\",\"hostAvatar\":\"MealDetailPage_hostAvatar__iOzJc\",\"infoGrid\":\"MealDetailPage_infoGrid__y0e5k\",\"infoItem\":\"MealDetailPage_infoItem__K86Ch\",\"icon\":\"MealDetailPage_icon__a8EpR\",\"description\":\"MealDetailPage_description__0Zl80\",\"topicsContainer\":\"MealDetailPage_topicsContainer__uKoCV\",\"avatarList\":\"MealDetailPage_avatarList__LrcPT\",\"miniAvatar\":\"MealDetailPage_miniAvatar__sXV9q\"};","import React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Container, Row, Col, Button, Badge, Spinner, Alert, Modal } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport { toast } from 'react-toastify';\nimport { FaMapMarkerAlt, FaCalendarAlt, FaClock, FaUser, FaUsers, FaComment, FaVideo, FaShareAlt, FaArrowLeft } from 'react-icons/fa';\n\nimport mealService from '../../../services/mealService';\nimport { useAuth } from '../../../contexts/AuthContext';\nimport { getHostAvatarUrl, getMealCoverImageUrl } from '../../../constants/mealConstants';\nimport OpenStreetMapComponent from '../../../components/maps/OpenStreetMapComponent'; // La tua mappa\nimport BackButton from '../../../components/common/BackButton';\nimport JoinMealButton from '../../../components/meals/JoinMealButton';\nimport LeaveMealButton from '../../../components/meals/LeaveMealButton';\nimport styles from './MealDetailPage.module.css';\n\nconst MealDetailPage = () => {\n  const { t } = useTranslation();\n  const { mealId } = useParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n\n  const [meal, setMeal] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showShareModal, setShowShareModal] = useState(false);\n\n  // Caricamento Dati Pasto\n  const fetchMeal = useCallback(async () => {\n    try {\n      setLoading(true);\n      const data = await mealService.getMealById(mealId);\n      // Gestione robusta: a volte arriva { success: true, data: meal } altre volte direttamente meal\n      setMeal(data.data || data); \n    } catch (err) {\n      console.error('Errore caricamento pasto:', err);\n      setError(t('meals.detail.loadError') || 'Impossibile caricare il pasto.');\n    } finally {\n      setLoading(false);\n    }\n  }, [mealId, t]);\n\n  useEffect(() => {\n    fetchMeal();\n  }, [fetchMeal]);\n\n  // Aggiornamento rapido dopo un'azione (Join/Leave)\n  const handleRefresh = () => {\n    fetchMeal();\n  };\n\n  if (loading) return <div className=\"d-flex justify-content-center py-5\"><Spinner animation=\"border\" /></div>;\n  if (error) return <Container className=\"py-5\"><Alert variant=\"danger\">{error}</Alert><BackButton /></Container>;\n  if (!meal) return <Container className=\"py-5\"><Alert variant=\"warning\">Pasto non trovato</Alert><BackButton /></Container>;\n\n  // Logica Permessi\n  const isHost = user && (meal.host?._id === user._id || meal.host === user._id);\n  // Controlla se l'utente √® nella lista partecipanti (gestendo sia oggetti popolati che ID stringa)\n  const isParticipant = user && meal.participants?.some(p => \n    (p._id || p) === user._id\n  );\n  const isVirtual = meal.mealType === 'virtual';\n  const isFull = meal.participants?.length >= meal.maxParticipants;\n  const isPast = new Date(meal.date) < new Date();\n\n  // --- LOGICA TEMPORALE VIDEOCHIAMATA ---\n  const mealDate = new Date(meal.date);\n  const now = new Date();\n  const durationMs = (meal.duration || 60) * 60 * 1000; // Default 60 min se mancante\n  const mealEndTime = new Date(mealDate.getTime() + durationMs);\n  const tenMinutesBeforeStart = new Date(mealDate.getTime() - 10 * 60 * 1000);\n\n  // √à accessibile se: (Adesso >= 10 min prima) E (Adesso <= Fine pasto)\n  const isVideoAccessible = isVirtual && \n                            (isParticipant || isHost) && \n                            now >= tenMinutesBeforeStart && \n                            now <= mealEndTime;\n\n  // Opzionale: Se l'utente √® partecipante ma √® troppo presto, mostriamo un avviso?\n  const isTooEarly = isVirtual && (isParticipant || isHost) && now < tenMinutesBeforeStart && now > new Date(mealDate.getTime() - 24 * 60 * 60 * 1000); // Mostra solo se manca meno di 24h\n\n  // Navigazione Chat\n  const handleChatClick = () => {\n    if (meal.chatId) {\n      // meal.chatId pu√≤ essere un oggetto o una stringa\n      const targetId = typeof meal.chatId === 'object' ? meal.chatId._id : meal.chatId;\n      navigate(`/chats/${targetId}`);\n    } else {\n      toast.error(t('chat.notAvailable') || 'Chat non ancora disponibile');\n    }\n  };\n\n  // Navigazione Video\n  const handleVideoClick = () => {\n    navigate(`/meals/${meal._id}/video`);\n  };\n\n  return (\n    <div className={styles.pageContainer}>\n      {/* Header Immagine */}\n      <div \n        className={styles.heroImage} \n        style={{ \n          backgroundImage: `url(${getMealCoverImageUrl(meal.imageUrl)})` \n        }}\n      >\n        <div className={styles.overlay}>\n          <Container>\n            <BackButton className=\"mb-3 text-white\" />\n            <Badge bg={isVirtual ? \"info\" : \"success\"} className=\"mb-2\">\n              {isVirtual ? t('meals.type.virtual') : t('meals.type.physical')}\n            </Badge>\n            <h1 className={styles.title}>{meal.title}</h1>\n          </Container>\n        </div>\n      </div>\n\n      <Container className={styles.contentContainer}>\n        <Row>\n          <Col lg={8}>\n            {/* Info Principali */}\n            <div className={styles.card}>\n              <div className={styles.hostInfo}>\n                <img \n                  src={getHostAvatarUrl(meal.host)} \n                  alt={meal.host?.nickname} \n                  className={styles.hostAvatar} \n                />\n                <div>\n                  <p className=\"mb-0 text-muted\">{t('meals.detail.hostedBy')}</p>\n                  <strong>{meal.host?.nickname || 'Host'}</strong>\n                </div>\n              </div>\n\n              <div className={styles.infoGrid}>\n                <div className={styles.infoItem}>\n                  <FaCalendarAlt className={styles.icon} />\n                  <div>\n                    <label>{t('meals.form.dateLabel')}</label>\n                    <p>{new Date(meal.date).toLocaleDateString()}</p>\n                  </div>\n                </div>\n                <div className={styles.infoItem}>\n                  <FaClock className={styles.icon} />\n                  <div>\n                    <label>{t('meals.form.timeLabel')}</label>\n                    <p>{new Date(meal.date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</p>\n                  </div>\n                </div>\n                <div className={styles.infoItem}>\n                  <FaUsers className={styles.icon} />\n                  <div>\n                    <label>{t('meals.detail.participants')}</label>\n                    <p>{meal.participants?.length || 0} / {meal.maxParticipants}</p>\n                  </div>\n                </div>\n              </div>\n\n              <hr />\n              \n              <h3>{t('meals.form.descriptionLabel')}</h3>\n              <p className={styles.description}>{meal.description}</p>\n\n              {/* Sezione Argomenti (Topics) */}\n              {meal.topics && meal.topics.length > 0 && (\n                <div className=\"mb-4\">\n                  <h5>{t('meals.form.topicsLabel')}</h5>\n                  <div className={styles.topicsContainer}>\n                    {meal.topics.map((topic, idx) => (\n                      <Badge key={idx} bg=\"light\" text=\"dark\" className=\"me-2 p-2 border\">\n                        #{topic}\n                      </Badge>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Mappa (Solo se Fisico e Location presente) */}\n            {!isVirtual && meal.location && meal.location.coordinates && (\n              <div className={styles.card}>\n                <h4 className=\"mb-3\"><FaMapMarkerAlt className=\"me-2\" />{t('meals.detail.location')}</h4>\n                <p className=\"text-muted\">{meal.location.address}</p>\n                <div style={{ height: '300px', borderRadius: '10px', overflow: 'hidden' }}>\n                  <OpenStreetMapComponent \n                    readOnly={true}\n                    center={[meal.location.coordinates[1], meal.location.coordinates[0]]} // [Lat, Lng]\n                    zoom={15}\n                    markers={[{ \n                      lat: meal.location.coordinates[1], \n                      lng: meal.location.coordinates[0],\n                      title: meal.title \n                    }]}\n                  />\n                </div>\n                <Button \n                  variant=\"outline-primary\" \n                  className=\"mt-3 w-100\"\n                  onClick={() => window.open(`https://www.google.com/maps/search/?api=1&query=${meal.location.coordinates[1]},${meal.location.coordinates[0]}`, '_blank')}\n                >\n                  Apri in Google Maps üó∫Ô∏è\n                </Button>\n              </div>\n            )}\n          </Col>\n\n          {/* Sidebar Azioni */}\n          <Col lg={4}>\n            <div className={`${styles.card} ${styles.actionCard}`}>\n              <h4 className=\"mb-4\">{t('meals.detail.actions')}</h4>\n              \n              {/* 1. Pulsante Unisciti / Lascia */}\n              {!isHost && !isParticipant && !isPast && (\n                <JoinMealButton \n                  meal={meal} \n                  onSuccess={handleRefresh} \n                  className=\"w-100 mb-3 btn-lg\"\n                />\n              )}\n\n              {!isHost && isParticipant && !isPast && (\n                <LeaveMealButton \n                  mealId={meal._id} \n                  onSuccess={handleRefresh} \n                  className=\"w-100 mb-3 btn-outline-danger\"\n                />\n              )}\n\n              {/* 2. Pulsante Chat (Solo partecipanti/host) */}\n              {(isParticipant || isHost) && meal.chatId && (\n                <Button \n                  variant=\"primary\" \n                  className=\"w-100 mb-3 d-flex align-items-center justify-content-center gap-2\"\n                  onClick={handleChatClick}\n                >\n                  <FaComment /> {t('meals.detail.openChat')}\n                </Button>\n              )}\n\n              {/* 3. Pulsante Video (Logica a tempo) */}\n              {isVideoAccessible ? (\n                <Button \n                  variant=\"success\" \n                  className=\"w-100 mb-3 d-flex align-items-center justify-content-center gap-2\"\n                  onClick={handleVideoClick}\n                >\n                  <FaVideo /> {t('meals.detail.joinVideo')}\n                </Button>\n              ) : (\n                /* Feedback se √® troppo presto (Opzionale, migliora UX) */\n                isTooEarly && (\n                  <div className=\"w-100 mb-3 text-center text-muted small border p-2 rounded bg-light\">\n                    <FaVideo className=\"me-1\" /> \n                    Video disponibile dalle {tenMinutesBeforeStart.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\n                  </div>\n                )\n              )}\n\n              {/* 4. Pulsante Condividi */}\n              <Button \n                variant=\"outline-secondary\" \n                className=\"w-100\"\n                onClick={() => {\n                  if (navigator.share) {\n                    navigator.share({\n                      title: meal.title,\n                      text: `Unisciti a me per ${meal.title} su TableTalk!`,\n                      url: window.location.href\n                    });\n                  } else {\n                    navigator.clipboard.writeText(window.location.href);\n                    toast.success('Link copiato negli appunti!');\n                  }\n                }}\n              >\n                <FaShareAlt className=\"me-2\" /> {t('common.share')}\n              </Button>\n\n              {/* Partecipanti Lista */}\n              <div className=\"mt-4\">\n                <h5>{t('meals.detail.participantsList')} ({meal.participants?.length || 0})</h5>\n                <div className={styles.avatarList}>\n                  {/* Mostra Host */}\n                  <div className={styles.participantItem} title={`Host: ${meal.host?.nickname}`}>\n                    <img src={getHostAvatarUrl(meal.host)} className={styles.miniAvatar} style={{ border: '2px solid #ff6b6b' }} alt=\"Host\" />\n                  </div>\n                  {/* Mostra Altri */}\n                  {meal.participants?.map(p => (\n                    (p._id || p) !== (meal.host._id || meal.host) && (\n                      <div key={p._id || p} className={styles.participantItem} title={p.nickname}>\n                        <img src={getHostAvatarUrl(p)} className={styles.miniAvatar} alt={p.nickname || 'User'} />\n                      </div>\n                    )\n                  ))}\n                </div>\n              </div>\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n};\n\nexport default MealDetailPage;\n","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Badge = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  bg = 'primary',\n  pill = false,\n  text,\n  className,\n  as: Component = 'span',\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'badge');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, prefix, pill && `rounded-pill`, text && `text-${text}`, bg && `bg-${bg}`)\n  });\n});\nBadge.displayName = 'Badge';\nexport default Badge;","// File: src/components/meals/LeaveMealButton/index.js (Versione Finale)\n\nimport React from 'react';\nimport { useMeals } from '../../../contexts/MealsContext';\nimport { Button, Spinner } from 'react-bootstrap';\n\nconst LeaveMealButton = ({ mealId, onSuccess }) => {\n  const { leaveMeal, loading } = useMeals();\n\n  const handleLeave = async () => {\n          if (window.confirm('Sei sicuro di voler abbandonare questo TableTalk¬Æ?')) {\n      try {\n        const updatedMeal = await leaveMeal(mealId); // Questa funzione ora restituisce il TableTalk¬Æ aggiornato\n        if (onSuccess) {\n          onSuccess(updatedMeal); // Passiamo l'INTERO TableTalk¬Æ aggiornato al genitore\n        }\n      } catch (error) {\n        // Il toast di errore √® gi√† gestito dal context\n        console.error(\"Fallimento leaveMeal nel componente:\", error);\n      }\n    }\n  };\n\n  return (\n    <Button variant=\"outline-danger\" className=\"w-100\" onClick={handleLeave} disabled={loading}>\n      {loading ? (\n        <>\n          <Spinner as=\"span\" animation=\"border\" size=\"sm\" />\n          <span> Uscita in corso...</span>\n        </>\n      ) : (\n        'Abbandona il TableTalk¬Æ'\n      )}\n    </Button>\n  );\n};\n\nexport default LeaveMealButton;","// extracted by mini-css-extract-plugin\nexport default {\"backButton\":\"BackButton_backButton__hBNQM\"};","// File: src/components/common/BackButton/index.js\n\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FaArrowLeft } from 'react-icons/fa';\nimport styles from './BackButton.module.css';\n\nconst BackButton = ({ className = '' }) => {\n  const navigate = useNavigate();\n\n  const handleBack = () => {\n    navigate(-1);\n  };\n\n  return (\n    <button onClick={handleBack} className={`${styles.backButton} ${className}`}>\n      <FaArrowLeft style={{ marginRight: 8 }} />\n      Torna indietro\n    </button>\n  );\n};\n\nexport default BackButton;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix, useBootstrapBreakpoints, useBootstrapMinBreakpoint } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function useCol({\n  as,\n  bsPrefix,\n  className,\n  ...props\n}) {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'col');\n  const breakpoints = useBootstrapBreakpoints();\n  const minBreakpoint = useBootstrapMinBreakpoint();\n  const spans = [];\n  const classes = [];\n  breakpoints.forEach(brkPoint => {\n    const propValue = props[brkPoint];\n    delete props[brkPoint];\n    let span;\n    let offset;\n    let order;\n    if (typeof propValue === 'object' && propValue != null) {\n      ({\n        span,\n        offset,\n        order\n      } = propValue);\n    } else {\n      span = propValue;\n    }\n    const infix = brkPoint !== minBreakpoint ? `-${brkPoint}` : '';\n    if (span) spans.push(span === true ? `${bsPrefix}${infix}` : `${bsPrefix}${infix}-${span}`);\n    if (order != null) classes.push(`order${infix}-${order}`);\n    if (offset != null) classes.push(`offset${infix}-${offset}`);\n  });\n  return [{\n    ...props,\n    className: classNames(className, ...spans, ...classes)\n  }, {\n    as,\n    bsPrefix,\n    spans\n  }];\n}\nconst Col = /*#__PURE__*/React.forwardRef(\n// Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n(props, ref) => {\n  const [{\n    className,\n    ...colProps\n  }, {\n    as: Component = 'div',\n    bsPrefix,\n    spans\n  }] = useCol(props);\n  return /*#__PURE__*/_jsx(Component, {\n    ...colProps,\n    ref: ref,\n    className: classNames(className, !spans.length && bsPrefix)\n  });\n});\nCol.displayName = 'Col';\nexport default Col;"],"names":["FlyToMarker","_ref","position","zoom","map","useMap","useEffect","lat","lng","targetZoom","getZoom","flyTo","duration","CenterUpdater","_ref2","center","Array","isArray","length","LocationPicker","_ref3","onLocationSelect","onMapClick","useMapEvents","click","e","latlng","L","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","_ref4","meals","markers","onMarkerClick","selectedLocation","userLocation","height","width","window","console","log","error","_jsx","style","children","_jsxs","MapContainer","borderRadius","whenReady","whenCreated","mapInstance","TileLayer","url","attribution","errorTileUrl","Marker","icon","iconSize","iconAnchor","popupAnchor","shadowSize","Popup","address","concat","toFixed","marker","eventHandlers","id","minWidth","margin","color","title","name","price","type","meal","restaurant","participants","date","onClick","open","background","border","padding","cursor","marginTop","_excluded","Row","React","ref","bsPrefix","className","as","Component","props","_objectWithoutProperties","decoratedBsPrefix","useBootstrapPrefix","breakpoints","useBootstrapBreakpoints","minBreakpoint","useBootstrapMinBreakpoint","sizePrefix","classes","forEach","brkPoint","propValue","cols","infix","push","_objectSpread","classNames","displayName","Container","fluid","prefix","suffix","mealId","onSuccess","joinMeal","loading","useMeals","Button","styles","async","updatedMeal","disabled","_Fragment","Spinner","animation","size","role","MealDetailPage","_meal$host","_meal$participants","_meal$participants2","_meal$host2","_meal$host3","_meal$participants3","_meal$participants4","_meal$host4","_meal$participants5","t","useTranslation","useParams","navigate","useNavigate","user","useAuth","setMeal","useState","setLoading","setError","showShareModal","setShowShareModal","fetchMeal","useCallback","data","mealService","getMealById","err","handleRefresh","Alert","variant","BackButton","isHost","host","_id","isParticipant","some","p","isVirtual","mealType","isPast","maxParticipants","Date","mealDate","now","durationMs","mealEndTime","getTime","tenMinutesBeforeStart","isVideoAccessible","isTooEarly","pageContainer","heroImage","backgroundImage","getMealCoverImageUrl","imageUrl","overlay","Badge","bg","contentContainer","Col","lg","card","hostInfo","src","getHostAvatarUrl","alt","nickname","hostAvatar","infoGrid","infoItem","FaCalendarAlt","toLocaleDateString","FaClock","toLocaleTimeString","hour","minute","FaUsers","description","topics","topicsContainer","topic","idx","text","location","coordinates","FaMapMarkerAlt","overflow","OpenStreetMapComponent","readOnly","actionCard","JoinMealButton","LeaveMealButton","chatId","handleChatClick","targetId","toast","FaComment","handleVideoClick","FaVideo","navigator","share","href","clipboard","writeText","success","FaShareAlt","avatarList","participantItem","miniAvatar","pill","leaveMeal","confirm","handleBack","FaArrowLeft","marginRight","_excluded2","spans","span","offset","order","useCol","colProps"],"ignoreList":[],"sourceRoot":""}