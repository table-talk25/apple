{"version":3,"file":"static/js/784.9d97b704.chunk.js","mappings":"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","sources":["components/maps/OpenStreetMapComponent.jsx","../node_modules/react-bootstrap/esm/Row.js","webpack://table-talk-client/./src/components/common/BackButton/BackButton.module.css?c17f","components/common/BackButton/index.js","webpack://table-talk-client/./src/components/meals/MealForm/MealForm.module.css?14a4","webpack://table-talk-client/./src/components/meals/TopicInput/TopicInput.module.css?e3f5","components/meals/TopicInput/index.js","components/meals/MealForm/index.js","services/sanitizationService.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Fix per icone marker di default Leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n});\n\n// Componente per centrare la mappa su una posizione specifica\nfunction FlyToMarker({ position }) {\n  const map = useMap();\n  useEffect(() => {\n    if (position) {\n      map.setView([position.lat, position.lng], map.getZoom());\n    }\n  }, [position, map]);\n  return null;\n}\n\n// Componente per gestire click sulla mappa\nfunction LocationPicker({ onLocationSelect, onMapClick }) {\n  useMapEvents({\n    click(e) {\n      const { lat, lng } = e.latlng;\n      // Se c'√® onMapClick, chiamalo (per chiudere card/anteprima)\n      if (onMapClick) {\n        onMapClick();\n      }\n      // Se c'√® onLocationSelect, chiamalo (per selezionare posizione)\n      if (onLocationSelect) {\n        onLocationSelect({ lat, lng });\n      }\n    },\n  });\n  return null;\n}\n\nconst OpenStreetMapComponent = ({ \n  meals = [], \n  markers = [], // Nuova prop per markers dalla MapPage\n  onLocationSelect, \n  onMarkerClick, // Nuova prop per gestire click sui marker\n  onMapClick, // Nuova prop per gestire click sulla mappa\n  selectedLocation,\n  userLocation = null, // Nuova prop per posizione utente\n  zoom = 13, // Nuova prop per zoom\n  height = '400px',\n  width = '100%',\n  center = [45.4642, 9.1900] // Milano di default\n}) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [isSearching, setIsSearching] = useState(false);\n\n  // Funzione ricerca luoghi (API gratuita Nominatim)\n  const searchPlaces = async (query) => {\n    if (!query || query.length < 3) return;\n    \n    setIsSearching(true);\n    try {\n      const response = await fetch(\n        `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(query)}&limit=5&countrycodes=it&addressdetails=1`\n      );\n      const results = await response.json();\n      \n      const formattedResults = results.map(place => ({\n        id: place.place_id,\n        name: place.display_name,\n        lat: parseFloat(place.lat),\n        lng: parseFloat(place.lon),\n        address: place.display_name\n      }));\n      \n      setSearchResults(formattedResults);\n    } catch (error) {\n      console.error('Errore ricerca luoghi:', error);\n      setSearchResults([]);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  return (\n    <div style={{ width: '100%' }}>\n      {/* Barra di ricerca */}\n      <div style={{ marginBottom: '10px' }}>\n        <div style={{ position: 'relative' }}>\n          <input\n            type=\"text\"\n            placeholder=\"üîç Cerca ristoranti, indirizzi...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            onKeyPress={(e) => e.key === 'Enter' && searchPlaces(searchQuery)}\n            style={{\n              width: '100%',\n              padding: '12px',\n              border: '2px solid #ddd',\n              borderRadius: '8px',\n              fontSize: '16px'\n            }}\n          />\n          <button\n            onClick={() => searchPlaces(searchQuery)}\n            disabled={isSearching}\n            style={{\n              position: 'absolute',\n              right: '8px',\n              top: '50%',\n              transform: 'translateY(-50%)',\n              background: '#FF6B35',\n              color: 'white',\n              border: 'none',\n              padding: '8px 12px',\n              borderRadius: '6px',\n              cursor: 'pointer'\n            }}\n          >\n            {isSearching ? '...' : 'Cerca'}\n          </button>\n        </div>\n        \n        {/* Risultati ricerca */}\n        {searchResults.length > 0 && (\n          <div style={{\n            position: 'absolute',\n            zIndex: 1000,\n            background: 'white',\n            border: '1px solid #ddd',\n            borderRadius: '8px',\n            marginTop: '5px',\n            maxHeight: '200px',\n            overflowY: 'auto',\n            width: '100%'\n          }}>\n            {searchResults.map(result => (\n              <div\n                key={result.id}\n                onClick={() => {\n                  onLocationSelect && onLocationSelect({\n                    lat: result.lat,\n                    lng: result.lng,\n                    address: result.address\n                  });\n                  setSearchResults([]);\n                  setSearchQuery(result.name.split(',')[0]);\n                }}\n                style={{\n                  padding: '10px',\n                  cursor: 'pointer',\n                  borderBottom: '1px solid #eee',\n                  fontSize: '14px'\n                }}\n                onMouseEnter={(e) => e.target.style.backgroundColor = '#f5f5f5'}\n                onMouseLeave={(e) => e.target.style.backgroundColor = 'white'}\n              >\n                üìç {result.name}\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Mappa */}\n      <MapContainer \n        center={center} \n        zoom={zoom} \n        style={{ height, width, borderRadius: '8px' }}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        \n        {/* Gestione click per selezionare posizione e chiudere card */}\n        <LocationPicker onLocationSelect={onLocationSelect} onMapClick={onMapClick} />\n        \n        {/* Centra la mappa sulla posizione selezionata */}\n        {selectedLocation && <FlyToMarker position={selectedLocation} />}\n        \n        {/* Marker per posizione utente */}\n        {userLocation && (\n          <Marker \n            position={[userLocation.lat, userLocation.lng]}\n            icon={L.icon({\n              iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png',\n              shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n              iconSize: [25, 41],\n              iconAnchor: [12, 41],\n              popupAnchor: [1, -34],\n              shadowSize: [41, 41]\n            })}\n          >\n            <Popup>\n              üìç <strong>La tua posizione</strong>\n            </Popup>\n          </Marker>\n        )}\n        \n        {/* Marker per location selezionata */}\n        {selectedLocation && (\n          <Marker position={[selectedLocation.lat, selectedLocation.lng]}>\n            <Popup>\n              üìç <strong>Posizione selezionata</strong><br />\n              {selectedLocation.address || `${selectedLocation.lat.toFixed(4)}, ${selectedLocation.lng.toFixed(4)}`}\n            </Popup>\n          </Marker>\n        )}\n        \n        {/* Marker per i pasti dalla prop markers (usata da MapPage) */}\n        {markers.map((marker) => (\n          <Marker \n            key={marker.id} \n            position={[marker.lat, marker.lng]}\n            eventHandlers={{\n              click: () => {\n                if (onMarkerClick) onMarkerClick(marker.id);\n              },\n            }}\n          >\n            <Popup>\n              <div style={{ minWidth: '200px' }}>\n                <h3 style={{ margin: '0 0 8px 0', color: '#FF6B35' }}>\n                  üçΩÔ∏è {marker.title || marker.name}\n                </h3>\n                {marker.price && (\n                  <p style={{ margin: '4px 0' }}>\n                    üí∞ ‚Ç¨{marker.price}\n                  </p>\n                )}\n                {marker.type && (\n                  <p style={{ margin: '4px 0', color: '#666' }}>\n                    üìÖ {marker.type}\n                  </p>\n                )}\n              </div>\n            </Popup>\n          </Marker>\n        ))}\n        \n        {/* Marker per i pasti esistenti (compatibilit√† con vecchia API) */}\n        {meals.map(meal => (\n          <Marker \n            key={meal.id} \n            position={[meal.lat, meal.lng]}\n            eventHandlers={{\n              click: () => {\n                if (onMarkerClick) onMarkerClick(meal.id);\n              },\n            }}\n          >\n            <Popup>\n              <div style={{ minWidth: '200px' }}>\n                <h3 style={{ margin: '0 0 8px 0', color: '#FF6B35' }}>\n                  üçΩÔ∏è {meal.name}\n                </h3>\n                <p style={{ margin: '4px 0' }}>\n                  üìç {meal.restaurant || meal.address}\n                </p>\n                <p style={{ margin: '4px 0' }}>\n                  üë• {meal.participants || 0} partecipanti\n                </p>\n                <p style={{ margin: '4px 0' }}>\n                  üìÖ {meal.date}\n                </p>\n                <button\n                  onClick={() => window.open(`/meal/${meal.id}`, '_blank')}\n                  style={{\n                    background: '#FF6B35',\n                    color: 'white',\n                    border: 'none',\n                    padding: '8px 16px',\n                    borderRadius: '6px',\n                    cursor: 'pointer',\n                    marginTop: '8px'\n                  }}\n                >\n                  Partecipa al TableTalk\n                </button>\n              </div>\n            </Popup>\n          </Marker>\n        ))}\n      </MapContainer>\n    </div>\n  );\n};\n\nexport default OpenStreetMapComponent;\n","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix, useBootstrapBreakpoints, useBootstrapMinBreakpoint } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Row = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  const decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'row');\n  const breakpoints = useBootstrapBreakpoints();\n  const minBreakpoint = useBootstrapMinBreakpoint();\n  const sizePrefix = `${decoratedBsPrefix}-cols`;\n  const classes = [];\n  breakpoints.forEach(brkPoint => {\n    const propValue = props[brkPoint];\n    delete props[brkPoint];\n    let cols;\n    if (propValue != null && typeof propValue === 'object') {\n      ({\n        cols\n      } = propValue);\n    } else {\n      cols = propValue;\n    }\n    const infix = brkPoint !== minBreakpoint ? `-${brkPoint}` : '';\n    if (cols != null) classes.push(`${sizePrefix}${infix}-${cols}`);\n  });\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, decoratedBsPrefix, ...classes)\n  });\n});\nRow.displayName = 'Row';\nexport default Row;","// extracted by mini-css-extract-plugin\nexport default {\"backButton\":\"BackButton_backButton__hBNQM\"};","// File: src/components/common/BackButton/index.js\n\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FaArrowLeft } from 'react-icons/fa';\nimport styles from './BackButton.module.css';\n\nconst BackButton = ({ className = '' }) => {\n  const navigate = useNavigate();\n\n  const handleBack = () => {\n    navigate(-1);\n  };\n\n  return (\n    <button onClick={handleBack} className={`${styles.backButton} ${className}`}>\n      <FaArrowLeft style={{ marginRight: 8 }} />\n      Torna indietro\n    </button>\n  );\n};\n\nexport default BackButton;","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MealForm_form__iyuod\",\"formGroup\":\"MealForm_formGroup__Nagwi\",\"formLabel\":\"MealForm_formLabel__EuahF\",\"formControl\":\"MealForm_formControl__QOV2v\",\"dateInputContainer\":\"MealForm_dateInputContainer__tCElf\",\"dateHelperButton\":\"MealForm_dateHelperButton__ypazG\",\"formSelect\":\"MealForm_formSelect__qfqPi\",\"formCheck\":\"MealForm_formCheck__GCWf7\",\"typeSelector\":\"MealForm_typeSelector__mfJc5\",\"typeButton\":\"MealForm_typeButton__KyHCF\",\"active\":\"MealForm_active__Hpn7f\",\"typeIcon\":\"MealForm_typeIcon__XJPIu\",\"typeText\":\"MealForm_typeText__7CnAo\",\"typeDescription\":\"MealForm_typeDescription__t2zNS\",\"typeInfo\":\"MealForm_typeInfo__pB1+E\",\"visibilitySelector\":\"MealForm_visibilitySelector__WKtUp\",\"visibilityButton\":\"MealForm_visibilityButton__D2Hp1\",\"visibilityIcon\":\"MealForm_visibilityIcon__FlV5b\",\"visibilityText\":\"MealForm_visibilityText__dnQrt\",\"visibilityDescription\":\"MealForm_visibilityDescription__FL8e4\",\"visibilityInfo\":\"MealForm_visibilityInfo__-fbWG\",\"mapContainer\":\"MealForm_mapContainer__whBqK\",\"locationInfo\":\"MealForm_locationInfo__hHdUX\",\"submitButton\":\"MealForm_submitButton__fUBD0\",\"stickyActions\":\"MealForm_stickyActions__wBnhW\",\"cancelButton\":\"MealForm_cancelButton__thg-a\",\"error\":\"MealForm_error__TbffJ\",\"success\":\"MealForm_success__pUq4n\",\"loading\":\"MealForm_loading__6DqYq\"};","// extracted by mini-css-extract-plugin\nexport default {\"topicInputContainer\":\"TopicInput_topicInputContainer__NfIJd\",\"topicTag\":\"TopicInput_topicTag__HTw1U\",\"removeTagButton\":\"TopicInput_removeTagButton__sDCPm\",\"topicInput\":\"TopicInput_topicInput__WbbZc\",\"inputError\":\"TopicInput_inputError__VAq+v\",\"hasError\":\"TopicInput_hasError__0Xkbf\",\"errorMessage\":\"TopicInput_errorMessage__leuM0\",\"fadeIn\":\"TopicInput_fadeIn__1ShrF\"};","import React, { useState, useEffect } from 'react';\nimport styles from './TopicInput.module.css';\n\nconst TopicInput = ({ topics, setTopics, onValidationChange }) => {\n  const [inputValue, setInputValue] = useState('');\n  const [error, setError] = useState(''); // üîí STATO ERRORE: Per feedback visivo\n\n  // üîí PULIZIA AUTOMATICA: Esegui pulizia quando il componente si monta e quando cambiano i topics\n  useEffect(() => {\n    cleanTopics();\n  }, []); // Solo al mount\n\n  // üîí NOTIFICA VALIDAZIONE: Comunica lo stato di validazione al componente padre\n  useEffect(() => {\n    if (onValidationChange) {\n      const hasValidTopics = topics.length > 0 && topics.every(topic => {\n        const trimmedTopic = topic.trim();\n        return trimmedTopic.length >= 2 && \n               trimmedTopic.length <= 50 && \n               !/^\\s+$/.test(trimmedTopic);\n      });\n      \n      onValidationChange(hasValidTopics);\n    }\n  }, [topics, onValidationChange]);\n\n  // üîí VALIDAZIONE TOPICS: Funzione per validare un nuovo argomento\n  const validateTopic = (topic) => {\n    if (typeof topic !== 'string') {\n      return { isValid: false, error: 'L\\'argomento deve essere una stringa valida' };\n    }\n    \n    const trimmedTopic = topic.trim();\n    \n    // Controllo lunghezza minima (almeno 2 caratteri)\n    if (trimmedTopic.length < 2) {\n      return { isValid: false, error: 'L\\'argomento deve essere di almeno 2 caratteri' };\n    }\n    \n    // Controllo lunghezza massima (massimo 50 caratteri)\n    if (trimmedTopic.length > 50) {\n      return { isValid: false, error: 'L\\'argomento non pu√≤ superare i 50 caratteri' };\n    }\n    \n    // Controllo duplicati (case-insensitive)\n    const isDuplicate = topics.some(existingTopic => \n      existingTopic.toLowerCase() === trimmedTopic.toLowerCase()\n    );\n    \n    if (isDuplicate) {\n      return { isValid: false, error: 'Questo argomento √® gi√† presente' };\n    }\n    \n    // Controllo caratteri speciali non desiderati\n    const hasOnlySpaces = /^\\s+$/.test(trimmedTopic);\n    if (hasOnlySpaces) {\n      return { isValid: false, error: 'L\\'argomento non pu√≤ contenere solo spazi' };\n    }\n    \n    // Controllo caratteri validi (solo lettere, numeri, spazi e caratteri accentati)\n    const hasValidCharacters = /^[\\w\\s\\u00C0-\\u017F]+$/i.test(trimmedTopic);\n    if (!hasValidCharacters) {\n      return { isValid: false, error: 'L\\'argomento pu√≤ contenere solo lettere, numeri e spazi' };\n    }\n    \n    return { isValid: true, topic: trimmedTopic };\n  };\n\n  const handleKeyDown = (e) => {\n    // Se preme \"Invio\" o \"Virgola\"\n    if (e.key === 'Enter' || e.key === ',') {\n      e.preventDefault(); // Impedisce al form di essere inviato o di scrivere la virgola\n      \n      // üîí VALIDAZIONE ROBUSTA: Controllo completo prima dell'aggiunta\n      const validation = validateTopic(inputValue);\n      \n      if (validation.isValid) {\n        if (topics.length < 5) { // Limite di 5 argomenti\n          setTopics([...topics, validation.topic]);\n          setInputValue(''); // Pulisci l'input solo se valido\n          setError(''); // üîí Pulisci errori precedenti\n        } else {\n          const limitError = 'Limite massimo di 5 argomenti raggiunto';\n          console.warn(`‚ö†Ô∏è [TopicInput] ${limitError}`);\n          setError(limitError);\n        }\n      } else {\n        // üîí FEEDBACK ERRORE: Mostra messaggio di errore visivo\n        console.warn(`‚ö†Ô∏è [TopicInput] Argomento non valido: ${validation.error}`);\n        setError(validation.error);\n      }\n    }\n  };\n\n  // üîí PULIZIA AUTOMATICA: Rimuove argomenti vuoti o non validi\n  const cleanTopics = () => {\n    if (!Array.isArray(topics) || topics.length === 0) return;\n    \n    const cleanedTopics = topics.filter(topic => {\n      if (typeof topic !== 'string') return false;\n      \n      const trimmedTopic = topic.trim();\n      // üîí VALIDAZIONE COMPLETA: Controlla lunghezza e caratteri\n      return trimmedTopic.length >= 2 && \n             trimmedTopic.length <= 50 && \n             !/^\\s+$/.test(trimmedTopic) &&\n             !/^[^\\w\\s]+$/.test(trimmedTopic) && // Non solo caratteri speciali\n             /^[\\w\\s\\u00C0-\\u017F]+$/i.test(trimmedTopic); // Solo lettere, numeri, spazi e caratteri accentati\n    });\n    \n    // Se ci sono stati cambiamenti, aggiorna la lista\n    if (cleanedTopics.length !== topics.length) {\n      console.log(`üßπ [TopicInput] Puliti ${topics.length - cleanedTopics.length} argomenti non validi`);\n      setTopics(cleanedTopics);\n    }\n  };\n\n  const removeTopic = (topicToRemove) => {\n    setTopics(topics.filter(topic => topic !== topicToRemove));\n  };\n\n  return (\n    <div className={`${styles.topicInputContainer} ${error ? styles.hasError : ''}`}>\n      {topics.map((topic, index) => (\n        <div key={index} className={styles.topicTag}>\n          {topic}\n          <button \n            type=\"button\" \n            className={styles.removeTagButton} \n            onClick={() => removeTopic(topic)}\n          >\n            &times;\n          </button>\n        </div>\n      ))}\n      <input\n        type=\"text\"\n        value={inputValue}\n        onChange={(e) => {\n          setInputValue(e.target.value);\n          // üîí PULIZIA ERRORE: Rimuovi errori quando l'utente digita\n          if (error) setError('');\n        }}\n        onKeyDown={handleKeyDown}\n        placeholder={topics.length < 5 ? 'Aggiungi un argomento...' : 'Massimo 5 argomenti'}\n        className={`${styles.topicInput} ${error ? styles.inputError : ''}`}\n        disabled={topics.length >= 5}\n      />\n      {/* üîí FEEDBACK ERRORE: Mostra messaggio di errore sotto l'input */}\n      {error && (\n        <div className={styles.errorMessage}>\n          ‚ö†Ô∏è {error}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TopicInput;","// File: /src/components/meals/MealForm.js (Versione Corretta e Aggiornata)\n\nimport React, { useState, useEffect } from 'react';\nimport { Form, Button, Row, Col, Spinner } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport { mealTypeOptions } from '../../../constants/mealConstants';\nimport styles from './MealForm.module.css'; \n// import dayjs from 'dayjs'; // Rimosso: non utilizzato\n// import { Camera, CameraResultType, CameraSource } from '@capacitor/camera'; // Rimosso: non pi√π utilizzato\nimport TopicInput from '../TopicInput';\nimport OpenStreetMapComponent from '../../maps/OpenStreetMapComponent';\n// import PlacesAutocompleteInput from '../../Map/PlacesAutocompleteInput'; // Rimosso: manteniamo solo OpenStreetMap\nimport { sanitizeMealData, containsDangerousContent } from '../../../services/sanitizationService';\n\n        // Opzioni per la durata del TableTalk¬Æ\nconst languageOptions = ['Italiano', 'English', 'Espa√±ol', 'Fran√ßais', 'Deutsch', '‰∏≠Êñá', 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©'];\n\nconst MealForm = ({ initialData, onSubmit, onCancel, isLoading, isSubmitting, submitButtonText }) => {\n  const { t } = useTranslation();\n  \n  // Opzioni di durata tradotte\n  const durationOptions = [\n    { value: 30, label: t('meals.form.durationOptions.30min') },\n    { value: 60, label: t('meals.form.durationOptions.1hour') },\n    { value: 90, label: t('meals.form.durationOptions.1hour30') },\n    { value: 120, label: t('meals.form.durationOptions.2hours') },\n    { value: 150, label: t('meals.form.durationOptions.2hours30') },\n    { value: 180, label: t('meals.form.durationOptions.3hours') },\n  ];\n\n  // Definiamo uno stato di default pulito\n  const getInitialState = () => {\n    // üîí VALIDAZIONE DATA: Suggerisci una data valida di default\n    const now = new Date();\n    const suggestedDate = new Date(now.getTime() + 60 * 60 * 1000); // 1 ora da ora\n    \n    // Formatta per input datetime-local\n    const year = suggestedDate.getFullYear();\n    const month = String(suggestedDate.getMonth() + 1).padStart(2, '0');\n    const day = String(suggestedDate.getDate()).padStart(2, '0');\n    const hours = String(suggestedDate.getHours()).padStart(2, '0');\n    const minutes = String(suggestedDate.getMinutes()).padStart(2, '0');\n    \n    return {\n      title: '',\n      description: '',\n      mealType: 'virtual', // Aggiungi questo! Iniziamo con 'virtual' come default\n      type: 'lunch',\n      date: `${year}-${month}-${day}T${hours}:${minutes}`, // üîí Data valida di default\n      duration: 60,\n      maxParticipants: 2,\n      language: 'English',\n      topics: [],\n      location: null, // Assicurati che location sia null all'inizio\n      isPublic: true, // Di default i TableTalk¬Æ sono pubblici\n      estimatedCost: '', // Nuovo campo\n    };\n  };\n\n  const [formData, setFormData] = useState(getInitialState());\n  const [imageFile, setImageFile] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [imageBase64, setImageBase64] = useState('');\n  const [errors, setErrors] = useState({});\n  \n  // ‚úÖ AGGIUNGI: State per location\n  const [selectedLocation, setSelectedLocation] = useState(null);\n\n  // ‚úÖ AGGIUNGI: Sincronizza selectedLocation con formData.location\n  useEffect(() => {\n    if (formData.location && formData.location.coordinates) {\n      setSelectedLocation({\n        lat: formData.location.coordinates[1],\n        lng: formData.location.coordinates[0],\n        address: formData.location.address\n      });\n    }\n  }, [formData.location]);\n\n  // üîí VALIDAZIONE DATA: Calcola la data minima valida per l'input\n  const getMinValidDateTime = () => {\n    const now = new Date();\n    // Tolleranza di 5 minuti per sincronizzazione dispositivi\n    const toleranceMs = 5 * 60 * 1000;\n    const minValidDate = new Date(now.getTime() - toleranceMs);\n    \n    // Formatta per input datetime-local (YYYY-MM-DDTHH:mm)\n    const year = minValidDate.getFullYear();\n    const month = String(minValidDate.getMonth() + 1).padStart(2, '0');\n    const day = String(minValidDate.getDate()).padStart(2, '0');\n    const hours = String(minValidDate.getHours()).padStart(2, '0');\n    const minutes = String(minValidDate.getMinutes()).padStart(2, '0');\n    \n    return `${year}-${month}-${day}T${hours}:${minutes}`;\n  };\n\n  // Funzione di validazione\n  const validateField = (name, value) => {\n    switch (name) {\n      case 'title':\n        if (!value.trim()) return t('meals.form.titleRequired');\n        if (value.trim().length < 5) return t('meals.form.titleMinLength');\n        if (value.trim().length > 50) return t('meals.form.titleMaxLength');\n        \n        // üõ°Ô∏è PROTEZIONE XSS: Controlla contenuto pericoloso\n        if (containsDangerousContent(value)) {\n          return 'Il titolo contiene contenuto non permesso (HTML/JavaScript)';\n        }\n        break;\n      case 'description':\n        if (!value.trim()) return t('meals.form.descriptionRequired');\n        if (value.trim().length < 10) return t('meals.form.descriptionMinLength');\n        if (value.trim().length > 1000) return t('meals.form.descriptionMaxLength');\n        \n        // üõ°Ô∏è PROTEZIONE XSS: Controlla contenuto pericoloso\n        if (containsDangerousContent(value)) {\n          return 'La descrizione contiene contenuto non permesso (HTML/JavaScript)';\n        }\n        break;\n      case 'date':\n        if (!value) return t('meals.form.dateRequired');\n        \n        // üîí VALIDAZIONE DATA: Impedisce selezione date passate\n        const selectedDate = new Date(value);\n        const now = new Date();\n        \n        // Tolleranza di 5 minuti per sincronizzazione dispositivi\n        const toleranceMs = 5 * 60 * 1000; // 5 minuti\n        const minValidDate = new Date(now.getTime() - toleranceMs);\n        \n        if (selectedDate < minValidDate) {\n          return t('meals.form.datePast') || 'La data deve essere nel futuro';\n        }\n        \n        // Validazione aggiuntiva: non permettere date troppo lontane nel futuro (es. > 1 anno)\n        const maxFutureDate = new Date(now.getFullYear() + 1, now.getMonth(), now.getDate());\n        if (selectedDate > maxFutureDate) {\n          return t('meals.form.dateTooFar') || 'La data non pu√≤ essere pi√π di un anno nel futuro';\n        }\n        \n        break;\n      case 'maxParticipants':\n        if (!value || value < 2) return t('meals.form.maxParticipantsMin');\n        if (value > 10) return t('meals.form.maxParticipantsMax');\n        break;\n      case 'topics':\n        // Opzionale: niente errore se vuoto\n        return '';\n      case 'location':\n        if (formData.mealType === 'physical' && !value) return t('meals.form.locationRequired');\n        break;\n      default:\n        return '';\n    }\n    return '';\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    \n    // üîí VALIDAZIONE DATA SPECIALE: Controllo immediato per date non valide\n    if (name === 'date' && value) {\n      const selectedDate = new Date(value);\n      const now = new Date();\n      const toleranceMs = 5 * 60 * 1000; // 5 minuti\n      const minValidDate = new Date(now.getTime() - toleranceMs);\n      \n      // Se la data selezionata √® nel passato, resetta il campo\n      if (selectedDate < minValidDate) {\n        console.warn('‚ö†Ô∏è [MealForm] Data nel passato selezionata, reset campo');\n        setFormData(prev => ({ ...prev, date: '' }));\n        setErrors(prev => ({\n          ...prev,\n          date: t('meals.form.datePast') || 'La data deve essere nel futuro'\n        }));\n        return;\n      }\n    }\n    \n    setFormData(prev => ({ ...prev, [name]: value }));\n    \n    // Validazione in tempo reale\n    const error = validateField(name, value);\n    setErrors(prev => ({\n      ...prev,\n      [name]: error\n    }));\n  };\n\n  const handleBlur = (e) => {\n    const { name, value } = e.target;\n    const error = validateField(name, value);\n    setErrors(prev => ({\n      ...prev,\n      [name]: error\n    }));\n  };\n\n  const handleTopicsChange = (newTopics) => {\n    setFormData(prev => ({ ...prev, topics: newTopics }));\n    \n    // Validazione per i topics\n    const error = validateField('topics', newTopics);\n    setErrors(prev => ({\n      ...prev,\n      topics: error\n    }));\n  };\n\n  // ‚úÖ AGGIUNGI: Handler per selezione location\n  const handleLocationSelect = (location) => {\n    setSelectedLocation(location);\n    setFormData(prev => ({\n      ...prev,\n      location: {\n        address: location.address || `${location.lat.toFixed(4)}, ${location.lng.toFixed(4)}`,\n        coordinates: [location.lng, location.lat] // MongoDB usa [lng, lat]\n      }\n    }));\n    \n    // Rimuovi errori di location se presenti\n    setErrors(prev => ({\n      ...prev,\n      location: null\n    }));\n  };\n\n  // Funzione handlePhotoSelect rimossa - ora usiamo solo l'input file standard\n\n  // üìÅ Gestione upload file dal computer (per browser)\n  const handleFileSelect = async (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    // Verifica che sia un'immagine\n    if (!file.type.startsWith('image/')) {\n      alert('Seleziona solo file immagine');\n      return;\n    }\n\n    // Verifica dimensione (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('Il file √® troppo grande. Massimo 10MB.');\n      return;\n    }\n\n    try {\n      // Crea preview\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setImagePreview(e.target.result);\n      };\n      reader.readAsDataURL(file);\n\n      // Comprimi se necessario\n      let processedFile = file;\n      if (file.size > 4 * 1024 * 1024) {\n        const blob = await compressImageBlob(file, { maxWidth: 1600, quality: 0.7 });\n        processedFile = new File([blob], file.name, { type: 'image/jpeg' });\n      }\n\n      setImageFile(processedFile);\n      \n      // Genera base64 come fallback\n      try {\n        const base64 = await blobToBase64(processedFile);\n        if (typeof base64 === 'string') setImageBase64(base64);\n      } catch (_) {}\n\n      console.log('üìÅ File selezionato:', processedFile.name, processedFile.size);\n    } catch (error) {\n      console.error(\"Errore elaborazione file\", error);\n    }\n  };\n\n  // Comprimi immagine usando canvas\n  const compressImageBlob = async (blob, { maxWidth = 1600, quality = 0.7 } = {}) => {\n    try {\n      const imageBitmap = await createImageBitmap(blob);\n      const scale = Math.min(1, maxWidth / imageBitmap.width);\n      const targetWidth = Math.round(imageBitmap.width * scale);\n      const targetHeight = Math.round(imageBitmap.height * scale);\n      const canvas = document.createElement('canvas');\n      canvas.width = targetWidth;\n      canvas.height = targetHeight;\n      const ctx = canvas.getContext('2d');\n      ctx.drawImage(imageBitmap, 0, 0, targetWidth, targetHeight);\n      const dataUrl = canvas.toDataURL('image/jpeg', quality);\n      const res = await fetch(dataUrl);\n      return await res.blob();\n    } catch (e) {\n      // in caso di fallimento, restituisci l'originale\n      return blob;\n    }\n  };\n\n  const blobToBase64 = (blob) => new Promise((resolve, reject) => {\n    try {\n      const reader = new FileReader();\n      reader.onloadend = () => resolve(reader.result);\n      reader.onerror = reject;\n      reader.readAsDataURL(blob);\n    } catch (e) { reject(e); }\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    // üîí VALIDAZIONE DATA FINALE: Controllo aggiuntivo prima del submit\n    if (formData.date) {\n      const selectedDate = new Date(formData.date);\n      const now = new Date();\n      const toleranceMs = 5 * 60 * 1000; // 5 minuti\n      const minValidDate = new Date(now.getTime() - toleranceMs);\n      \n      if (selectedDate < minValidDate) {\n        console.warn('‚ö†Ô∏è [MealForm] Submit bloccato: data nel passato rilevata');\n        setErrors(prev => ({\n          ...prev,\n          date: t('meals.form.datePast') || 'La data deve essere nel futuro'\n        }));\n        return; // Blocca il submit\n      }\n    }\n    \n    // Validazione completa prima del submit\n    const newErrors = {};\n    Object.keys(formData).forEach(key => {\n      const error = validateField(key, formData[key]);\n      if (error) newErrors[key] = error;\n    });\n    \n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      return; // Non procedere se ci sono errori\n    }\n\n    // üõ°Ô∏è PROTEZIONE XSS: Sanitizza tutti i dati prima dell'invio\n    const sanitizedData = sanitizeMealData(formData);\n    \n    // Log per debugging (solo in development)\n    if (process.env.NODE_ENV === 'development') {\n      const hasChanges = JSON.stringify(sanitizedData) !== JSON.stringify(formData);\n      if (hasChanges) {\n        console.log('üõ°Ô∏è [MealForm] Dati sanitizzati prima dell\\'invio:', {\n          original: formData,\n          sanitized: sanitizedData\n        });\n      }\n    }\n\n    const formDataToSend = new FormData();\n    const dataToProcess = { ...sanitizedData };\n\n    if (dataToProcess.date) {\n      dataToProcess.date = new Date(dataToProcess.date).toISOString();\n    }\n\n    for (const key in dataToProcess) {\n      if (key === 'topics' && Array.isArray(dataToProcess[key])) {\n        dataToProcess[key].forEach(topic => formDataToSend.append('topics', topic));\n      } else if (key === 'location' && dataToProcess[key]) {\n        // Per i TableTalk¬Æ fisici, aggiungi la location\n        formDataToSend.append('location', JSON.stringify(dataToProcess[key]));\n      } else if (key !== 'location' || formData.mealType === 'physical') {\n        // Aggiungi tutti i campi tranne location se √® virtuale\n        formDataToSend.append(key, dataToProcess[key]);\n      }\n    }\n    \n    if (imageFile) {\n      formDataToSend.append('image', imageFile);\n      if (imageBase64) {\n        formDataToSend.append('imageBase64', imageBase64);\n      }\n      if (imagePreview) {\n        formDataToSend.append('imageLocalUri', imagePreview);\n      }\n    }\n    \n    onSubmit(formDataToSend);\n  };\n\n  return (\n    <Form onSubmit={handleSubmit} className={styles.form}>\n              {/* Sezione Tipo di TableTalk¬Æ con pulsanti personalizzati */}\n      <div className={styles.formGroup}>\n        <label className={styles.formLabel}>{t('meals.form.typeLabel')}</label>\n        <div className={styles.typeSelector}>\n          <button\n            type=\"button\" // Importante per non inviare il form\n            className={`${styles.typeButton} ${formData.mealType === 'virtual' ? styles.active : ''}`}\n            onClick={() => setFormData({ ...formData, mealType: 'virtual', location: null })} // Resetta la location se si sceglie virtuale\n          >\n            <span className={styles.typeIcon}>üé•</span>\n            <span className={styles.typeText}>{t('meals.form.virtualType')}</span>\n            <small className={styles.typeDescription}>{t('meals.form.virtualDescription')}</small>\n          </button>\n          <button\n            type=\"button\"\n            className={`${styles.typeButton} ${formData.mealType === 'physical' ? styles.active : ''}`}\n            onClick={() => setFormData({ ...formData, mealType: 'physical' })}\n          >\n            <span className={styles.typeIcon}>üìç</span>\n            <span className={styles.typeText}>{t('meals.form.physicalType')}</span>\n            <small className={styles.typeDescription}>{t('meals.form.physicalDescription')}</small>\n          </button>\n        </div>\n        <div className={styles.typeInfo}>\n          {formData.mealType === 'virtual' \n            ? t('meals.form.virtualInfo')\n            : t('meals.form.physicalInfo')\n          }\n        </div>\n      </div>\n\n              {/* Sezione Visibilit√† - solo per TableTalk¬Æ fisici */}\n      {formData.mealType === 'physical' && (\n        <div className={styles.formGroup}>\n          <label className={styles.formLabel}>{t('meals.form.visibilityLabel')}</label>\n          <div className={styles.visibilitySelector}>\n            <button\n              type=\"button\"\n              className={`${styles.visibilityButton} ${formData.isPublic ? styles.active : ''}`}\n              onClick={() => setFormData({ ...formData, isPublic: true })}\n            >\n              <span className={styles.visibilityIcon}>üåç</span>\n              <span className={styles.visibilityText}>{t('meals.form.publicVisibility')}</span>\n              <small className={styles.visibilityDescription}>{t('meals.form.publicDescription')}</small>\n            </button>\n            <button\n              type=\"button\"\n              className={`${styles.visibilityButton} ${!formData.isPublic ? styles.active : ''}`}\n              onClick={() => setFormData({ ...formData, isPublic: false })}\n            >\n              <span className={styles.visibilityIcon}>üîí</span>\n              <span className={styles.visibilityText}>{t('meals.form.privateVisibility')}</span>\n              <small className={styles.visibilityDescription}>{t('meals.form.privateDescription')}</small>\n            </button>\n          </div>\n          <div className={styles.visibilityInfo}>\n            {formData.isPublic \n                          ? t('meals.form.publicInfo')\n            : t('meals.form.privateInfo')\n            }\n          </div>\n        </div>\n      )}\n\n      <Form.Group className=\"mb-3\">\n        <Form.Label className={styles.formLabel}>{t('meals.form.titleLabel')}</Form.Label>\n        <Form.Control \n          className={`${styles.formControl} ${errors.title ? 'is-invalid' : ''}`}\n          type=\"text\" \n          name=\"title\" \n          value={formData.title} \n          onChange={handleChange}\n          onBlur={handleBlur}\n          required \n        />\n        {errors.title && <div className=\"invalid-feedback\">{errors.title}</div>}\n      </Form.Group>\n      \n      <Form.Group className=\"mb-3\">\n        <Form.Label className={styles.formLabel}>{t('meals.form.descriptionLabel')}</Form.Label>\n        <Form.Control \n          className={`${styles.formControl} ${errors.description ? 'is-invalid' : ''}`}\n          as=\"textarea\" \n          rows={3} \n          name=\"description\" \n          value={formData.description} \n          onChange={handleChange}\n          onBlur={handleBlur}\n          required \n        />\n        {errors.description && <div className=\"invalid-feedback\">{errors.description}</div>}\n      </Form.Group>\n\n      <Row className=\"mb-3\">\n        <Col md={6}>\n            <Form.Group>\n                <Form.Label className={styles.formLabel}>{t('meals.form.categoryLabel')}</Form.Label>\n                <Form.Select className={styles.formSelect} name=\"type\" value={formData.type} onChange={handleChange} required>\n                    <option value=\"\" disabled>{t('meals.form.selectCategory')}</option>\n                    {mealTypeOptions.map(opt => <option key={opt.value} value={opt.value}>{opt.label}</option>)}\n                </Form.Select>\n            </Form.Group>\n        </Col>\n        <Col md={6}>\n            <Form.Group>\n                <Form.Label className={styles.formLabel}>{t('meals.form.maxParticipantsLabel')}</Form.Label>\n                <Form.Control \n                  className={`${styles.formControl} ${errors.maxParticipants ? 'is-invalid' : ''}`}\n                  type=\"number\" \n                  name=\"maxParticipants\" \n                  value={formData.maxParticipants} \n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  required \n                  min=\"2\" \n                  max=\"10\" \n                />\n                {errors.maxParticipants && <div className=\"invalid-feedback\">{errors.maxParticipants}</div>}\n            </Form.Group>\n        </Col>\n      </Row>\n\n      <Row className=\"mb-3\">\n        <Col xs={12} md={6}>\n            <Form.Group>\n                <Form.Label className={styles.formLabel}>{t('meals.form.languageLabel')}</Form.Label>\n                <Form.Select className={styles.formSelect} name=\"language\" value={formData.language} onChange={handleChange} required>\n                    {languageOptions.map(lang => <option key={lang} value={lang}>{lang}</option>)}\n                </Form.Select>\n            </Form.Group>\n        </Col>\n        <Col xs={12} md={6}>\n            <Form.Group>\n                <Form.Label className={styles.formLabel}>{t('meals.form.durationLabel')}</Form.Label>\n                <Form.Select className={styles.formSelect} name=\"duration\" value={formData.duration} onChange={handleChange} required>\n                    {durationOptions.map(opt => <option key={opt.value} value={opt.value}>{opt.label}</option>)}\n                </Form.Select>\n            </Form.Group>\n        </Col>\n      </Row>\n\n      {/* Prezzo Stimato - Solo per pasti fisici */}\n      {formData.mealType === 'physical' && (\n        <Row className=\"mb-3\">\n          <Col md={6}>\n            <Form.Group>\n              <Form.Label className={styles.formLabel}>{t('meals.form.priceLabel') || 'Prezzo Stimato (‚Ç¨)'}</Form.Label>\n              <div className=\"input-group\">\n                <span className=\"input-group-text\">‚Ç¨</span>\n                <Form.Control\n                  className={styles.formControl}\n                  type=\"number\"\n                  name=\"estimatedCost\"\n                  value={formData.estimatedCost}\n                  onChange={handleChange}\n                  placeholder=\"Es. 25\"\n                  min=\"0\"\n                />\n              </div>\n              <Form.Text className=\"text-muted\">\n                Costo medio a persona (solo indicativo)\n              </Form.Text>\n            </Form.Group>\n          </Col>\n        </Row>\n      )}\n\n      <Row className=\"mb-3\">\n        <Col xs={12} md={6}>\n            <Form.Group>\n                <Form.Label className={styles.formLabel}>{t('meals.form.dateLabel')}</Form.Label>\n                <div className={styles.dateInputContainer}>\n                  <Form.Control \n                    className={`${styles.formControl} ${errors.date ? 'is-invalid' : ''}`}\n                    type=\"datetime-local\" \n                    name=\"date\" \n                    value={formData.date} \n                    min={getMinValidDateTime()} // üîí Impedisce selezione date passate\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    required \n                  />\n                  <button\n                    type=\"button\"\n                    className={styles.dateHelperButton}\n                    onClick={() => {\n                      // üîí SUGGERIMENTO DATA: Imposta una data valida di default\n                      const now = new Date();\n                      const suggestedDate = new Date(now.getTime() + 60 * 60 * 1000); // 1 ora da ora\n                      \n                      const year = suggestedDate.getFullYear();\n                      const month = String(suggestedDate.getMonth() + 1).padStart(2, '0');\n                      const day = String(suggestedDate.getDate()).padStart(2, '0');\n                      const hours = String(suggestedDate.getHours()).padStart(2, '0');\n                      const minutes = String(suggestedDate.getMinutes()).padStart(2, '0');\n                      \n                      const formattedDate = `${year}-${month}-${day}T${hours}:${minutes}`;\n                      setFormData(prev => ({ ...prev, date: formattedDate }));\n                      \n                      // Pulisci eventuali errori\n                      setErrors(prev => ({ ...prev, date: '' }));\n                    }}\n                    title=\"Suggerisci data valida (1 ora da ora)\"\n                  >\n                    üïê\n                  </button>\n                </div>\n                {errors.date && <div className=\"invalid-feedback\">{errors.date}</div>}\n                <Form.Text className=\"text-muted\">\n                  üìÖ Seleziona una data e ora nel futuro\n                </Form.Text>\n            </Form.Group>\n        </Col>\n        <Col xs={12} md={6}>\n            {/* Campo per la posizione - visibile solo per TableTalk¬Æ fisici */}\n            {formData.mealType === 'physical' && (\n              <Form.Group>\n                <Form.Label className={styles.formLabel}>{t('meals.form.addressLabel')}</Form.Label>\n                <Form.Control \n                  className={`${styles.formControl} ${errors.location ? 'is-invalid' : ''}`}\n                  type=\"text\" \n                  name=\"location\" \n                  value={formData.location?.address || ''} \n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  placeholder={t('meals.form.addressPlaceholder')}\n                  readOnly\n                />\n                {errors.location && <div className=\"invalid-feedback\">{errors.location}</div>}\n                <Form.Text className=\"text-muted\">\n                  üìç L'indirizzo viene selezionato dalla mappa sottostante\n                </Form.Text>\n              </Form.Group>\n            )}\n        </Col>\n      </Row>\n\n              {/* ‚úÖ SEZIONE MAPPA CON OPENSTREETMAP */}\n      {formData.mealType === 'physical' && (\n        <div className={styles.formGroup}>\n          <label>üìç Seleziona posizione del pasto:</label>\n          <OpenStreetMapComponent\n            selectedLocation={selectedLocation}\n            onLocationSelect={handleLocationSelect}\n            height=\"300px\"\n            center={\n              selectedLocation \n                ? [selectedLocation.lat, selectedLocation.lng]\n                : formData.location && formData.location.coordinates\n                  ? [formData.location.coordinates[1], formData.location.coordinates[0]]\n                  : [45.4642, 9.1900] // Milano di default\n            }\n          />\n          {/* Eventuale visualizzazione indirizzo selezionato */}\n          {selectedLocation && (\n            <div className=\"selected-location-info\" style={{ \n              marginTop: '10px', \n              padding: '10px', \n              backgroundColor: '#f8f9fa', \n              borderRadius: '8px',\n              border: '1px solid #dee2e6'\n            }}>\n              ‚úÖ <strong>Posizione selezionata:</strong><br />\n              <span style={{ fontSize: '14px', color: '#666' }}>\n                {selectedLocation.address || \n                 `Lat: ${selectedLocation.lat.toFixed(4)}, Lng: ${selectedLocation.lng.toFixed(4)}`}\n              </span>\n            </div>\n              )}\n        </div>\n      )}\n      \n      <Form.Group className=\"mb-3\">\n          <Form.Label className={styles.formLabel}>{t('meals.form.topicsLabel')}</Form.Label>\n          <TopicInput topics={formData.topics} setTopics={handleTopicsChange} />\n          {errors.topics && <div className=\"invalid-feedback d-block\">{errors.topics}</div>}\n          <Form.Text>{t('meals.form.topicsHelp')}</Form.Text>\n      </Form.Group>\n      \n      <Form.Group className=\"mb-3\">\n        <Form.Label>{t('meals.form.coverImageLabel')}</Form.Label>\n        {imagePreview && <img src={imagePreview} alt={t('meals.form.coverImageAlt')} className={styles.imagePreview} />}\n        \n        {/* üìÅ Input file unificato per tutti i dispositivi */}\n        <Form.Control\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={handleFileSelect}\n          className=\"mt-2\"\n          style={{ fontSize: '0.9em' }}\n        />\n        <Form.Text className=\"text-muted\">\n          Seleziona un'immagine dal tuo dispositivo (max 10MB)\n        </Form.Text>\n        \n        {/* üîÑ Indicatore stato immagine */}\n        {imageFile && (\n          <div className=\"mt-2 p-2 bg-light rounded\" style={{ fontSize: '0.9em' }}>\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n              <span>üì∑ Immagine selezionata</span>\n              <small className=\"text-muted\">\n                {imageFile.name} ({(imageFile.size / 1024 / 1024).toFixed(2)} MB)\n              </small>\n            </div>\n            <small className=\"text-muted d-block mt-1\">\n              L'immagine verr√† caricata insieme al pasto\n            </small>\n          </div>\n        )}\n      </Form.Group>\n      \n      <div className={styles.stickyActions}>\n        <Button \n          variant=\"primary\" \n          type=\"submit\" \n          className={styles.submitButton} \n          disabled={isLoading || isSubmitting}\n        >\n          {isLoading || isSubmitting ? (\n            <>\n              <Spinner as=\"span\" animation=\"border\" size=\"sm\" />\n              <span> {isSubmitting ? t('meals.form.saving') : t('meals.form.loading')}</span>\n            </>\n          ) : (\n            submitButtonText || t('forms.save')\n          )}\n        </Button>\n      </div>\n    </Form>\n  );\n};\n\nexport default MealForm;","import DOMPurify from 'dompurify';\n\n/**\n * üõ°Ô∏è SERVIZIO SANITIZZAZIONE FRONTEND\n * Protegge da attacchi XSS sanitizzando tutti gli input utente\n */\n\n// Configurazione DOMPurify per massima sicurezza\nconst PURIFY_CONFIG = {\n  ALLOWED_TAGS: [], // Nessun tag HTML permesso\n  ALLOWED_ATTR: [], // Nessun attributo permesso\n  ALLOW_DATA_ATTR: false, // Non permettere data attributes\n  ALLOW_UNKNOWN_PROTOCOLS: false, // Non permettere protocolli sconosciuti\n  RETURN_DOM: false, // Ritorna stringa, non DOM\n  RETURN_DOM_FRAGMENT: false, // Non ritornare frammenti DOM\n  RETURN_TRUSTED_TYPE: false, // Non ritornare trusted types\n  KEEP_CONTENT: false, // Non mantenere contenuto non permesso\n  IN_PLACE: false, // Non modificare l'originale\n  SANITIZE_DOM: true, // Sanitizza il DOM se necessario\n  WHOLE_DOCUMENT: false, // Non sanitizzare tutto il documento\n  RETURN_DOM_IMPORT: false, // Non importare DOM\n  FORCE_BODY: false, // Non forzare body tag\n  SANITIZE_NAMED_PROPS: false, // Non sanitizzare named properties\n  ALLOWED_URI_REGEXP: /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i, // Solo protocolli sicuri\n};\n\n/**\n * üßπ Sanitizza una stringa rimuovendo HTML e JavaScript pericoloso\n * @param {string} input - Stringa da sanitizzare\n * @param {boolean} allowBasicFormatting - Permette formattazione base (false per massima sicurezza)\n * @returns {string} - Stringa sanitizzata\n */\nexport const sanitizeString = (input, allowBasicFormatting = false) => {\n  if (!input || typeof input !== 'string') {\n    return '';\n  }\n\n  try {\n    // Configurazione personalizzata per formattazione base se richiesto\n    const config = allowBasicFormatting \n      ? {\n          ...PURIFY_CONFIG,\n          ALLOWED_TAGS: ['b', 'i', 'em', 'strong', 'u'], // Solo formattazione base\n          ALLOWED_ATTR: [], // Nessun attributo\n        }\n      : PURIFY_CONFIG;\n\n    // Sanitizza la stringa\n    const sanitized = DOMPurify.sanitize(input, config);\n    \n    // Log per debugging (solo in development)\n    if (process.env.NODE_ENV === 'development' && sanitized !== input) {\n      console.log('üõ°Ô∏è [SanitizationService] Stringa sanitizzata:', {\n        original: input,\n        sanitized: sanitized,\n        removed: input.length - sanitized.length\n      });\n    }\n\n    return sanitized;\n  } catch (error) {\n    console.error('‚ùå [SanitizationService] Errore sanitizzazione:', error);\n    // In caso di errore, ritorna stringa vuota per sicurezza\n    return '';\n  }\n};\n\n/**\n * üîí Sanitizza un oggetto rimuovendo HTML da tutti i campi di testo\n * @param {Object} obj - Oggetto da sanitizzare\n * @param {Array} textFields - Array di nomi campi da sanitizzare\n * @param {boolean} allowBasicFormatting - Permette formattazione base\n * @returns {Object} - Oggetto sanitizzato\n */\nexport const sanitizeObject = (obj, textFields = [], allowBasicFormatting = false) => {\n  if (!obj || typeof obj !== 'object') {\n    return obj;\n  }\n\n  const sanitized = { ...obj };\n\n  // Se non sono specificati campi, sanitizza tutti i campi stringa\n  const fieldsToSanitize = textFields.length > 0 \n    ? textFields \n    : Object.keys(obj).filter(key => typeof obj[key] === 'string');\n\n  fieldsToSanitize.forEach(field => {\n    if (sanitized[field] && typeof sanitized[field] === 'string') {\n      sanitized[field] = sanitizeString(sanitized[field], allowBasicFormatting);\n    }\n  });\n\n  return sanitized;\n};\n\n/**\n * üßπ Sanitizza un array di stringhe\n * @param {Array} array - Array di stringhe da sanitizzare\n * @param {boolean} allowBasicFormatting - Permette formattazione base\n * @returns {Array} - Array sanitizzato\n */\nexport const sanitizeArray = (array, allowBasicFormatting = false) => {\n  if (!Array.isArray(array)) {\n    return [];\n  }\n\n  return array.map(item => {\n    if (typeof item === 'string') {\n      return sanitizeString(item, allowBasicFormatting);\n    }\n    return item;\n  });\n};\n\n/**\n * üîç Valida se una stringa contiene HTML o JavaScript pericoloso\n * @param {string} input - Stringa da validare\n * @returns {boolean} - true se contiene contenuto pericoloso\n */\nexport const containsDangerousContent = (input) => {\n  if (!input || typeof input !== 'string') {\n    return false;\n  }\n\n  // Pattern per rilevare HTML e JavaScript pericoloso\n  const dangerousPatterns = [\n    /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, // Script tags\n    /<iframe\\b[^<]*(?:(?!<\\/iframe>)<[^<]*)*<\\/iframe>/gi, // Iframe tags\n    /<object\\b[^<]*(?:(?!<\\/object>)<[^<]*)*<\\/object>/gi, // Object tags\n    /<embed\\b[^<]*(?:(?!<\\/embed>)<[^<]*)*<\\/embed>/gi, // Embed tags\n    /javascript:/gi, // JavaScript protocol\n    /vbscript:/gi, // VBScript protocol\n    /data:/gi, // Data protocol\n    /on\\w+\\s*=/gi, // Event handlers\n    /<.*>/g, // Qualsiasi tag HTML\n  ];\n\n  return dangerousPatterns.some(pattern => pattern.test(input));\n};\n\n/**\n * üõ°Ô∏è Sanitizza input per form di creazione pasti\n * @param {Object} mealData - Dati del pasto da sanitizzare\n * @returns {Object} - Dati sanitizzati\n * \n * Nota: I campi numerici (es. estimatedCost, duration, maxParticipants) non vengono sanitizzati\n * perch√© non sono stringhe, ma vengono mantenuti nell'oggetto risultante.\n */\nexport const sanitizeMealData = (mealData) => {\n  const textFields = ['title', 'description', 'language', 'topics'];\n  \n  return sanitizeObject(mealData, textFields, false);\n};\n\n/**\n * üõ°Ô∏è Sanitizza input per profilo utente\n * @param {Object} profileData - Dati del profilo da sanitizzare\n * @returns {Object} - Dati sanitizzati\n */\nexport const sanitizeProfileData = (profileData) => {\n  const textFields = ['nickname', 'bio', 'interests', 'languages', 'preferredCuisine'];\n  \n  return sanitizeObject(profileData, textFields, false);\n};\n\n/**\n * üõ°Ô∏è Sanitizza input per messaggi chat\n * @param {Object} messageData - Dati del messaggio da sanitizzare\n * @returns {Object} - Dati sanitizzati\n */\nexport const sanitizeMessageData = (messageData) => {\n  const textFields = ['content'];\n  \n  return sanitizeObject(messageData, textFields, false);\n};\n\n// Esporta tutte le funzioni\nexport default {\n  sanitizeString,\n  sanitizeObject,\n  sanitizeArray,\n  containsDangerousContent,\n  sanitizeMealData,\n  sanitizeProfileData,\n  sanitizeMessageData,\n};\n"],"names":["FlyToMarker","_ref","position","map","useMap","useEffect","setView","lat","lng","getZoom","LocationPicker","_ref2","onLocationSelect","onMapClick","useMapEvents","click","e","latlng","L","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","_ref3","meals","markers","onMarkerClick","selectedLocation","userLocation","zoom","height","width","center","searchQuery","setSearchQuery","useState","searchResults","setSearchResults","isSearching","setIsSearching","searchPlaces","async","query","length","response","fetch","concat","encodeURIComponent","formattedResults","json","place","id","place_id","name","display_name","parseFloat","lon","address","error","console","_jsxs","style","children","marginBottom","_jsx","type","placeholder","value","onChange","target","onKeyPress","key","padding","border","borderRadius","fontSize","onClick","disabled","right","top","transform","background","color","cursor","zIndex","marginTop","maxHeight","overflowY","result","split","borderBottom","onMouseEnter","backgroundColor","onMouseLeave","MapContainer","TileLayer","url","attribution","Marker","icon","iconSize","iconAnchor","popupAnchor","shadowSize","Popup","toFixed","marker","eventHandlers","minWidth","margin","title","price","meal","restaurant","participants","date","window","open","_excluded","Row","React","ref","bsPrefix","className","as","Component","props","_objectWithoutProperties","decoratedBsPrefix","useBootstrapPrefix","breakpoints","useBootstrapBreakpoints","minBreakpoint","useBootstrapMinBreakpoint","sizePrefix","classes","forEach","brkPoint","propValue","cols","infix","push","_objectSpread","classNames","displayName","navigate","useNavigate","handleBack","styles","FaArrowLeft","marginRight","topics","setTopics","onValidationChange","inputValue","setInputValue","setError","cleanTopics","hasValidTopics","every","topic","trimmedTopic","trim","test","Array","isArray","cleanedTopics","filter","log","index","removeTopic","topicToRemove","onKeyDown","preventDefault","validation","isValid","some","existingTopic","toLowerCase","validateTopic","limitError","warn","languageOptions","_formData$location","initialData","onSubmit","onCancel","isLoading","isSubmitting","submitButtonText","t","useTranslation","durationOptions","label","formData","setFormData","getInitialState","now","Date","suggestedDate","getTime","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","description","mealType","duration","maxParticipants","language","location","isPublic","estimatedCost","imageFile","setImageFile","imagePreview","setImagePreview","imageBase64","setImageBase64","errors","setErrors","setSelectedLocation","coordinates","validateField","containsDangerousContent","selectedDate","toleranceMs","handleChange","prev","handleBlur","compressImageBlob","blob","maxWidth","quality","arguments","undefined","imageBitmap","createImageBitmap","scale","Math","min","targetWidth","round","targetHeight","canvas","document","createElement","getContext","drawImage","dataUrl","toDataURL","res","blobToBase64","Promise","resolve","reject","reader","FileReader","onloadend","onerror","readAsDataURL","Form","newErrors","Object","keys","sanitizedData","sanitizeMealData","formDataToSend","FormData","dataToProcess","toISOString","append","JSON","stringify","form","formGroup","formLabel","typeSelector","typeButton","active","typeIcon","typeText","typeDescription","typeInfo","visibilitySelector","visibilityButton","visibilityIcon","visibilityText","visibilityDescription","visibilityInfo","Group","Label","Control","formControl","onBlur","required","rows","Col","md","Select","formSelect","mealTypeOptions","opt","max","xs","lang","Text","dateInputContainer","getMinValidDateTime","minValidDate","dateHelperButton","formattedDate","readOnly","OpenStreetMapComponent","TopicInput","newTopics","src","alt","accept","file","event","files","startsWith","size","alert","onload","processedFile","File","base64","_","display","alignItems","justifyContent","stickyActions","Button","variant","submitButton","_Fragment","Spinner","animation","PURIFY_CONFIG","ALLOWED_TAGS","ALLOWED_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","KEEP_CONTENT","IN_PLACE","SANITIZE_DOM","WHOLE_DOCUMENT","RETURN_DOM_IMPORT","FORCE_BODY","SANITIZE_NAMED_PROPS","ALLOWED_URI_REGEXP","sanitizeString","input","allowBasicFormatting","config","DOMPurify","sanitize","sanitizeObject","obj","textFields","sanitized","field","pattern","mealData"],"ignoreList":[],"sourceRoot":""}