"use strict";(self.webpackChunktable_talk_client=self.webpackChunktable_talk_client||[]).push([[922],{7922:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var a=r(5043),o=r(5475),i=r(184),n=r(5016),s=r(32),l=r(7930);const d={homeContainer:"HomePage_homeContainer__qxT23",heroSection:"HomePage_heroSection__msr+I",fadeInUp:"HomePage_fadeInUp__w4PjO",heroButtons:"HomePage_heroButtons__gCA61",btn:"HomePage_btn__b+tkT",featuresSection:"HomePage_featuresSection__zgdmZ",featuresGrid:"HomePage_featuresGrid__2NJjL",featureCard:"HomePage_featureCard__kZXRS",featureIcon:"HomePage_featureIcon__5B73Z",ctaSection:"HomePage_ctaSection__UN6ns",ctaButtons:"HomePage_ctaButtons__RbSBS"};var c=r(4117),p=r(579);const x=function(){const{isAuthenticated:e,user:t}=(0,n.A)(),{t:r}=(0,c.Bd)(),[x,h]=(0,a.useState)(null);return console.log("\ud83c\udfe0 [HomePage] isAuthenticated:",e),console.log("\ud83c\udfe0 [HomePage] user:",t),console.log("\ud83d\udd11 [HomePage] Token:",localStorage.getItem("token")),(0,a.useEffect)(()=>{e&&(h({latitude:45.4642,longitude:9.19}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{h({latitude:e.coords.latitude,longitude:e.coords.longitude})},e=>{console.warn("Geolocation error:",e),console.log("\ud83e\udd16 [AI] Usando posizione fissa per test AI")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5}))},[e]),(0,p.jsxs)("div",{className:d.homeContainer,children:[(0,p.jsx)(s.A,{}),(0,p.jsxs)("section",{className:d.heroSection,children:[(0,p.jsx)("h1",{dangerouslySetInnerHTML:{__html:r("home.heroTitle")}}),(0,p.jsx)("p",{children:r("home.heroSubtitle")}),(0,p.jsx)("div",{className:d.heroButtons,children:e?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.N_,{to:"/meals/create",className:d.btn,children:r("home.createTableTalk")}),(0,p.jsx)(o.N_,{to:"/meals",className:d.btn,children:r("home.exploreTableTalk")})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.N_,{to:"/register",className:d.btn,children:r("home.registerNow")}),(0,p.jsx)(o.N_,{to:"/login",className:d.btn,children:r("home.login")})]})})]}),e&&x&&(0,p.jsx)("section",{style:{marginTop:"60px",marginBottom:"60px",padding:"0 20px",maxWidth:"1200px",marginLeft:"auto",marginRight:"auto"},children:(0,p.jsx)("div",{style:{background:"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)",borderRadius:"24px",padding:"40px 30px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.08)",border:"1px solid rgba(255, 107, 53, 0.1)"},children:(0,p.jsx)(l.A,{userLocation:x,onMealSelect:e=>{window.location.href="/meals/".concat(e._id)}})})}),(0,p.jsxs)("section",{className:d.featuresSection,children:[(0,p.jsx)("h2",{children:r("home.howItWorks.title")}),(0,p.jsxs)("div",{className:d.featuresGrid,children:[(0,p.jsxs)("div",{className:d.featureCard,children:[(0,p.jsx)(i.KSO,{className:d.featureIcon}),(0,p.jsx)("h3",{children:r("home.howItWorks.step1.title")}),(0,p.jsx)("p",{children:r("home.howItWorks.step1.description")})]}),(0,p.jsxs)("div",{className:d.featureCard,children:[(0,p.jsx)(i.tVd,{className:d.featureIcon}),(0,p.jsx)("h3",{children:r("home.howItWorks.step2.title")}),(0,p.jsx)("p",{children:r("home.howItWorks.step2.description")})]}),(0,p.jsxs)("div",{className:d.featureCard,children:[(0,p.jsx)(i.HiP,{className:d.featureIcon}),(0,p.jsx)("h3",{children:r("home.howItWorks.step3.title")}),(0,p.jsx)("p",{children:r("home.howItWorks.step3.description")})]})]})]}),(0,p.jsxs)("section",{className:"".concat(d.featuresSection," ").concat(d.secondarySection),children:[(0,p.jsx)("h2",{children:r("home.whyTableTalk.title")}),(0,p.jsxs)("div",{className:d.featuresGrid,children:[(0,p.jsxs)("div",{className:d.featureCard,children:[(0,p.jsx)(i.YXz,{className:d.featureIcon}),(0,p.jsx)("h3",{children:r("home.whyTableTalk.feature1.title")}),(0,p.jsx)("p",{children:r("home.whyTableTalk.feature1.description")})]}),(0,p.jsxs)("div",{className:d.featureCard,children:[(0,p.jsx)(i.gqt,{className:d.featureIcon}),(0,p.jsx)("h3",{children:r("home.whyTableTalk.feature2.title")}),(0,p.jsx)("p",{children:r("home.whyTableTalk.feature2.description")})]}),(0,p.jsxs)("div",{className:d.featureCard,children:[(0,p.jsx)(i.SMR,{className:d.featureIcon}),(0,p.jsx)("h3",{children:r("home.whyTableTalk.feature3.title")}),(0,p.jsx)("p",{children:r("home.whyTableTalk.feature3.description")})]})]})]}),(0,p.jsxs)("section",{className:d.ctaSection,children:[(0,p.jsx)("h2",{children:r("home.cta.title")}),(0,p.jsx)("p",{children:r("home.cta.subtitle")}),(0,p.jsx)("div",{className:d.ctaButtons,children:e?(0,p.jsx)(o.N_,{to:"/meals/create",className:d.btn,children:r("home.cta.organizeTableTalk")}):(0,p.jsx)(o.N_,{to:"/register",className:d.btn,children:r("home.cta.startNow")})})]})]})}},7930:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(5043),o=r(5016),i=r(7102),n=r(5950),s=r(579);const l=e=>{let{userLocation:t,onMealSelect:r,showTitle:l=!0}=e;const{user:d}=(0,o.A)(),[c,p]=(0,a.useState)([]),[x,h]=(0,a.useState)(!1),[g,m]=(0,a.useState)("");(0,a.useEffect)(()=>{t&&d&&u()},[t,d]);const u=async()=>{try{h(!0),m("");const{data:e}=await i.default.get("/ai/recommendations",{params:{latitude:t.latitude,longitude:t.longitude,limit:4},suppressErrorAlert:!0,timeout:6e4});p((null===e||void 0===e?void 0:e.recommendations)||(null===e||void 0===e?void 0:e.data)||[])}catch(g){console.error("\u274c [AIRecommendations] Error:",g),m("")}finally{h(!1)}};return x?(0,s.jsxs)("div",{style:{padding:"20px 15px"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px 20px",backgroundColor:"#f8f9fa",borderRadius:"16px",border:"1px solid #e9ecef"},children:[(0,s.jsx)("div",{style:{width:"20px",height:"20px",border:"2px solid #FF6B35",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"12px"}}),(0,s.jsx)("span",{style:{color:"#666",fontSize:"16px"},children:"L'AI sta cercando i migliori TableTalk\xae per te..."})]}),(0,s.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          @keyframes shimmer {\n            0% { transform: translate(-50%, -50%) rotate(0deg); }\n            100% { transform: translate(-50%, -50%) rotate(360deg); }\n          }\n        "})]}):g||0===c.length?null:(0,s.jsxs)("div",{style:{margin:"25px 0"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"32px",padding:"0 15px"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[(0,s.jsxs)("div",{style:{width:"48px",height:"48px",borderRadius:"14px",background:"linear-gradient(135deg, #FF6B35 0%, #F7931E 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",boxShadow:"0 4px 16px rgba(255, 107, 53, 0.25)",position:"relative",overflow:"hidden"},children:[(0,s.jsx)("span",{style:{position:"relative",zIndex:2,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"},children:"\ud83e\udd16"}),(0,s.jsx)("div",{style:{position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%)",animation:"shimmer 3s infinite"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{margin:0,fontSize:"24px",fontWeight:"700",color:"#1a1a1a",letterSpacing:"-0.5px",lineHeight:"1.2"},children:"Raccomandazioni AI"}),(0,s.jsx)("p",{style:{margin:"4px 0 0 0",fontSize:"14px",color:"#666",fontWeight:"400",lineHeight:"1.4"},children:"TableTalk\xae selezionati personalmente per te"})]})]}),(0,s.jsxs)("button",{onClick:u,disabled:x,style:{padding:"10px 18px",backgroundColor:"#fff",border:"1.5px solid #e8e8e8",borderRadius:"12px",fontSize:"13px",cursor:x?"not-allowed":"pointer",color:"#666",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px",opacity:x?.6:1},onMouseEnter:e=>{x||(e.currentTarget.style.backgroundColor="#f8f9fa",e.currentTarget.style.borderColor="#FF6B35",e.currentTarget.style.color="#FF6B35",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(255, 107, 53, 0.15)")},onMouseLeave:e=>{x||(e.currentTarget.style.backgroundColor="#fff",e.currentTarget.style.borderColor="#e8e8e8",e.currentTarget.style.color="#666",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none")},children:[(0,s.jsx)("span",{children:"\ud83d\udd04"}),(0,s.jsx)("span",{children:"Aggiorna"})]})]}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"24px",padding:"0 15px"},children:c.slice(0,4).map((e,t)=>{var a,o;return(0,s.jsxs)("div",{onClick:()=>(async e=>{try{await i.default.post("/ai/interaction",{mealId:e._id,interactionType:"viewed",mealData:{cuisineType:e.cuisineType,price:e.estimatedCost}},{suppressErrorAlert:!0}),r&&r(e)}catch(g){console.error("\u274c Failed to track interaction:",g),r&&r(e)}})(e),style:{backgroundColor:"#fff",borderRadius:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",border:"1px solid #f0f0f0",overflow:"hidden",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",willChange:"transform"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-8px) scale(1.02)",e.currentTarget.style.boxShadow="0 12px 40px rgba(0,0,0,0.15)",e.currentTarget.style.borderColor="#FF6B35"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0) scale(1)",e.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.08)",e.currentTarget.style.borderColor="#f0f0f0"},children:[0===t&&(0,s.jsx)("div",{style:{position:"absolute",top:"12px",left:"12px",zIndex:3,display:"flex",alignItems:"center",gap:"4px",backgroundColor:"#FF6B35",color:"white",padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:"600",boxShadow:"0 2px 8px rgba(255, 107, 53, 0.3)"},children:"\u2b50 TOP MATCH"}),(0,s.jsxs)("div",{style:{position:"absolute",top:"14px",right:"14px",zIndex:3,background:"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%)",backdropFilter:"blur(10px)",color:"#FF6B35",padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"700",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",display:"flex",alignItems:"center",gap:"4px",border:"1px solid rgba(255,255,255,0.3)"},children:[(0,s.jsx)("span",{style:{fontSize:"14px"},children:"\u2728"}),(0,s.jsxs)("span",{children:[Math.round(e.aiScore||e.aiCompatibility||85),"%"]})]}),(0,s.jsxs)("div",{style:{height:"180px",background:e.imageUrl||e.image?"linear-gradient(rgba(0,0,0,0.15), rgba(0,0,0,0.4)), url(".concat((0,n.xW)(e.imageUrl||e.image),")"):"linear-gradient(135deg, #FF6B35 0%, #F7931E 50%, #FF8A65 100%)",backgroundSize:"cover",backgroundPosition:"center",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)",overflow:"hidden"},children:[(0,s.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"60%",background:"linear-gradient(to top, rgba(0,0,0,0.5), transparent)",pointerEvents:"none"}}),!e.imageUrl&&!e.image&&(0,s.jsx)("div",{style:{fontSize:"56px",opacity:.95,filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.2))"},children:"\ud83c\udf7d\ufe0f"})]}),(0,s.jsxs)("div",{style:{padding:"16px"},children:[(0,s.jsx)("h4",{style:{margin:"0 0 6px 0",fontSize:"16px",fontWeight:"600",color:"#1a1a1a",lineHeight:"1.3",height:"40px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.title}),(0,s.jsxs)("p",{style:{margin:"0 0 12px 0",fontSize:"12px",color:"#FF6B35",fontWeight:"500",fontStyle:"italic"},children:["\ud83e\udd16 ",e.aiReason||"Perfetto per i tuoi gusti"]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[(0,s.jsxs)("span",{style:{fontSize:"13px",color:"#666",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1,marginRight:"8px"},children:["\ud83d\udccd ",(null===(a=e.location)||void 0===a?void 0:a.name)||"Ristorante"]}),e.distanceKm&&(0,s.jsxs)("span",{style:{fontSize:"11px",color:"#999",backgroundColor:"#f8f9fa",padding:"2px 6px",borderRadius:"4px",flexShrink:0},children:[e.distanceKm.toFixed(1),"km"]})]}),(0,s.jsxs)("div",{style:{fontSize:"13px",color:"#666",marginBottom:"10px"},children:["\u23f0 ",new Date(e.scheduledAt).toLocaleDateString("it-IT",{month:"short",day:"numeric"})," \u2022 ",new Date(e.scheduledAt).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,s.jsxs)("span",{style:{fontSize:"12px",color:"#666",display:"flex",alignItems:"center",gap:"3px"},children:["\ud83d\udc65 ",(null===(o=e.participants)||void 0===o?void 0:o.length)||0,"/",e.maxParticipants||8]}),e.estimatedCost&&(0,s.jsxs)("span",{style:{fontSize:"13px",fontWeight:"600",color:"#1a1a1a"},children:["\u20ac",e.estimatedCost]})]}),(0,s.jsx)("div",{style:{padding:"6px 12px",backgroundColor:"#FF6B35",color:"white",borderRadius:"20px",fontSize:"12px",fontWeight:"600"},children:"Partecipa \u2192"})]})]})]},e._id)})}),c.length>0&&(0,s.jsx)("div",{style:{textAlign:"center",marginTop:"20px",paddingTop:"16px"},children:(0,s.jsx)("button",{onClick:u,style:{padding:"12px 24px",backgroundColor:"transparent",color:"#666",border:"1px solid #e0e0e0",borderRadius:"25px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="#f8f9fa",e.target.style.borderColor="#ccc"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent",e.target.style.borderColor="#e0e0e0"},children:"\ud83d\udd04 Altri suggerimenti AI"})})]})}}}]);
//# sourceMappingURL=922.8e3c03d3.chunk.js.map