/*! For license information please see 654.2b23164c.chunk.js.LICENSE.txt */
(self.webpackChunktable_talk_client=self.webpackChunktable_talk_client||[]).push([[654],{1497:(e,t,a)=>{"use strict";var r=a(3218);function o(){}function n(){}n.resetWarningCache=o,e.exports=function(){function e(e,t,a,o,n,s){if(s!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:o};return a.PropTypes=a,a}},1874:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(5043),o=a(3216),n=a(4117),s=(a(2179),a(9926)),l=a(3401),i=a(7777);const c={createMealPage:"CreateMealPage_createMealPage__bpnjZ",topBar:"CreateMealPage_topBar__sb3n9",backButton:"CreateMealPage_backButton__x5QGN",createMealHeader:"CreateMealPage_createMealHeader__JeOYx",createMealTitle:"CreateMealPage_createMealTitle__ZaMpK",createMealSubtitle:"CreateMealPage_createMealSubtitle__H0Mms",createMealContent:"CreateMealPage_createMealContent__I9nUa",formSection:"CreateMealPage_formSection__rlpge",formGroup:"CreateMealPage_formGroup__Ljg4N",formRow:"CreateMealPage_formRow__emkV2",formText:"CreateMealPage_formText__hy8NH",formActions:"CreateMealPage_formActions__TtsDf",btn:"CreateMealPage_btn__x1l6m",btnPrimary:"CreateMealPage_btnPrimary__HZeXk"};var u=a(7352),d=a(579);const f=()=>{const{t:e}=(0,n.Bd)(),t=(0,o.Zp)(),{createMeal:f,fetchMeals:p,upsertMeal:m}=(0,s.w)(),[g,b]=(0,r.useState)(!1),[_,v]=(0,r.useState)(""),[y,x]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=[];return(async()=>{try{const{Keyboard:t}=await Promise.resolve().then(a.bind(a,6374)),{Capacitor:r}=await Promise.resolve().then(a.bind(a,5403));if(r.isNativePlatform()){const a=t.addListener("keyboardWillShow",()=>x(!0)),r=t.addListener("keyboardWillHide",()=>x(!1));e.push(a,r)}}catch(t){}})(),()=>{e.forEach(e=>{try{e.remove()}catch(t){}})}},[]),(0,d.jsxs)("div",{className:c.createMealPage,style:y?{paddingBottom:90}:void 0,children:[(0,d.jsx)("div",{className:c.topBar,children:(0,d.jsx)(u.A,{className:c.backButton})}),(0,d.jsxs)("header",{className:c.createMealHeader,children:[(0,d.jsx)("h1",{className:c.createMealTitle,children:e("meals.createNewTitle")}),(0,d.jsx)("p",{className:c.createMealSubtitle,children:e("meals.createNewSubtitle")})]}),(0,d.jsxs)("div",{className:c.createMealContent,children:[_&&(0,d.jsx)("div",{className:c.errorMessage,style:{color:"red",backgroundColor:"#ffe6e6",padding:"10px",borderRadius:"5px",marginBottom:"20px",border:"1px solid #ff9999"},children:_}),(0,d.jsx)(i.A,{onSubmit:async a=>{if(console.log("\ud83d\ude80 [CreateMeal] Inizio creazione pasto..."),console.log("\ud83d\ude80 [CreateMeal] FormData ricevuto:",a),a instanceof FormData){console.log("\ud83d\ude80 [CreateMeal] Campi FormData:");for(let[e,t]of a.entries())console.log("  ".concat(e,":"),t)}b(!0),v("");try{console.log("\ud83d\udce1 [CreateMeal] Chiamando createMeal (context)...");const r=await f(a);console.log("\u2705 [CreateMeal] Pasto creato con successo:",r),console.log("\u2705 [CreateMeal] newMeal._id:",r._id),l.oR.success(e("meals.createSuccess")),setTimeout(()=>{console.log("\ud83d\ude80 [CreateMeal] Eseguendo navigazione..."),t("/meals/".concat(r._id))},800)}catch(_){var r,o,n,s,i;console.error("\u274c [CreateMeal] Errore nella creazione:",_),console.error("\u274c [CreateMeal] Error details:",{message:_.message,response:null===(r=_.response)||void 0===r?void 0:r.data,status:null===(o=_.response)||void 0===o?void 0:o.status,code:_.code});const a=!(null!==(n=_.response)&&void 0!==n&&n.status)&&("ERR_NETWORK"===_.code||"ECONNABORTED"===_.code),c=(null===(s=_.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||e("meals.createError");v(c),a||l.oR.error(c)}finally{b(!1)}},isLoading:g,isSubmitting:g,submitButtonText:e("meals.createButton")})]})]})}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4140:(e,t,a)=>{"use strict";a.d(t,{Am:()=>s,Ay:()=>i});var r=a(5043),o=a(579);const n=["as","disabled"];function s(e){let{tagName:t,disabled:a,href:r,target:o,rel:n,role:s,onClick:l,tabIndex:i=0,type:c}=e;t||(t=null!=r||null!=o||null!=n?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:a},u];const d=e=>{(a||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),a?e.stopPropagation():null==l||l(e)};return"a"===t&&(r||(r="#"),a&&(r=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:a?void 0:i,href:r,target:"a"===t?o:void 0,"aria-disabled":a||void 0,rel:"a"===t?n:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const l=r.forwardRef((e,t)=>{let{as:a,disabled:r}=e,l=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,n);const[i,{tagName:c}]=s(Object.assign({tagName:a,disabled:r},l));return(0,o.jsx)(c,Object.assign({},l,i,{ref:t}))});l.displayName="Button";const i=l},4282:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var r=a(2555),o=a(45),n=a(8139),s=a.n(n),l=a(5043),i=a(4140),c=a(7852),u=a(579);const d=["as","bsPrefix","variant","size","active","disabled","className"],f=l.forwardRef((e,t)=>{let{as:a,bsPrefix:n,variant:l="primary",size:f,active:p=!1,disabled:m=!1,className:g}=e,b=(0,o.A)(e,d);const _=(0,c.oU)(n,"btn"),[v,{tagName:y}]=(0,i.Am)((0,r.A)({tagName:a,disabled:m},b)),x=y;return(0,u.jsx)(x,(0,r.A)((0,r.A)((0,r.A)({},v),b),{},{ref:t,disabled:m,className:s()(g,_,p&&"active",l&&"".concat(_,"-").concat(l),f&&"".concat(_,"-").concat(f),b.href&&m&&"disabled")}))});f.displayName="Button";const p=f},5173:(e,t,a)=>{e.exports=a(1497)()},7852:(e,t,a)=>{"use strict";a.d(t,{Jm:()=>d,Wz:()=>f,gy:()=>u,oU:()=>c});var r=a(5043);a(579);const o=["xxl","xl","lg","md","sm","xs"],n="xs",s=r.createContext({prefixes:{},breakpoints:o,minBreakpoint:n}),{Consumer:l,Provider:i}=s;function c(e,t){const{prefixes:a}=(0,r.useContext)(s);return e||a[t]||t}function u(){const{breakpoints:e}=(0,r.useContext)(s);return e}function d(){const{minBreakpoint:e}=(0,r.useContext)(s);return e}function f(){const{dir:e}=(0,r.useContext)(s);return"rtl"===e}},8139:(e,t)=>{var a;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=s(e,n(a)))}return e}function n(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)r.call(e,a)&&e[a]&&(t=s(t,a));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(a=function(){return o}.apply(t,[]))||(e.exports=a)}()}}]);
//# sourceMappingURL=654.2b23164c.chunk.js.map