<!DOCTYPE html>
<html lang="it">
  <head>
    <script>
      // ALERT IMMEDIATO - PRIMA DI TUTTO
      alert("üî¥ TEST HTML: Se vedi questo, l'HTML si sta caricando!");
      console.log("üöÄ APP INIZIO CARICAMENTO");
      
      // Intercetta tutti gli errori
      window.onerror = function(msg, url, line, col, error) {
        var errorMsg = "ERRORE JS:\n" + msg + "\nFile: " + url + "\nLinea: " + line;
        console.error("‚ùå", errorMsg, error);
        alert(errorMsg);
        return false;
      };
      
      // Intercetta errori non gestiti
      window.addEventListener('error', function(e) {
        console.error("‚ùå ERRORE NON GESTITO:", e.error);
        alert("ERRORE: " + e.message);
      });
      
      // Intercetta promise rejection
      window.addEventListener('unhandledrejection', function(e) {
        console.error("‚ùå PROMISE REJECTION:", e.reason);
        alert("PROMISE ERROR: " + e.reason);
      });
      
      // Log quando il DOM √® pronto
      document.addEventListener('DOMContentLoaded', function() {
        console.log("‚úÖ DOM CARICATO");
      });
      
      // Log quando la pagina √® completamente caricata
      window.addEventListener('load', function() {
        console.log("‚úÖ PAGINA COMPLETAMENTE CARICATA");
        console.log("üìÅ Root element:", document.getElementById('root'));
        console.log("üìÅ Config disponibile:", typeof window.APP_CONFIG !== 'undefined' ? 'SI' : 'NO');
      });
      
      // Logging semplificato - NO PANNELLO DEBUG per evitare loop infiniti
    </script>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
              content="TableTalk - Trova compagni per TableTalk¬Æ virtuali"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>TableTalk</title>
    <!-- Configurazione per accesso remoto -->
    <script src="%PUBLIC_URL%/config.js"></script>
  </head>
  <body>
    <noscript>Devi abilitare JavaScript per usare questa applicazione.</noscript>
    <style>
      /* Placeholder di caricamento iniziale (prima che React monti) */
      #app-loader { 
        position: fixed; 
        inset: 0; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        background: #fff; 
        z-index: 99999; 
        /* Forza visibilit√† */
        visibility: visible !important;
        opacity: 1 !important;
      }
      #app-loader .spinner { 
        width: 48px; 
        height: 48px; 
        border: 6px solid #e0e0e0; 
        border-top: 6px solid #FF7F7F; 
        border-radius: 50%; 
        animation: spin 1s linear infinite; 
      }
      #app-loader .label { 
        margin-top: 10px; 
        font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Poppins', sans-serif; 
        color: #555; 
        font-size: 14px; 
        text-align: center; 
      }
      #app-loader .wrap { 
        display: flex; 
        flex-direction: column; 
        align-items: center; 
      }
      @keyframes spin { 
        0% { transform: rotate(0deg);} 
        100% { transform: rotate(360deg);} 
      }
      /* Assicurati che il root sia visibile quando React si monta */
      #root {
        min-height: 100vh;
        background: #fff;
        position: relative;
        z-index: 1;
      }
      
      /* Fallback: se React non si monta, mostra almeno lo sfondo bianco */
      body {
        background: #fff;
        margin: 0;
        padding: 0;
        /* Supporto per safe area iOS */
        padding-top: env(safe-area-inset-top);
        padding-bottom: env(safe-area-inset-bottom);
        padding-left: env(safe-area-inset-left);
        padding-right: env(safe-area-inset-right);
      }
    </style>
    <div id="app-loader">
      <div class="wrap">
        <div class="spinner"></div>
        <div class="label">Caricamento...</div>
      </div>
    </div>
    <div id="root"></div>
  </body>
</html>